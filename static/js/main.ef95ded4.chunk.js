(this["webpackJsonpgoat-keeper"]=this["webpackJsonpgoat-keeper"]||[]).push([[0],{207:function(e,n,t){e.exports=t(380)},208:function(e,n,t){},380:function(e,n,t){"use strict";t.r(n);t(208),t(209);var a,r=t(0),c=t.n(r),i=t(7),l=t.n(i),o=t(58),s=t(169),u=t(70),m=t(12),p=function(e){return e.redirectTo?c.a.createElement(m.b,{path:e.path,render:function(){return c.a.createElement(m.a,{to:e.redirectTo})}}):c.a.createElement(m.b,{path:e.path,render:function(n){return c.a.createElement(e.component,Object.assign({},n,{routes:e.routes}))}})},d=t(28),E=t(75),f=t(35),g=t(36),v=t(39),b=t(386),h=t(382),y=t(383),x=t(384),C=t(137),T=t(40),O=t.n(T),S=t(81),k=t(80),N=t(62),j=t.n(N);!function(e){e.SERVICE="SERVICE",e.RECEPTION="RECEPTION",e.PASS="PASS",e.ATTACK="ATTACK",e.BLOCK="BLOCK",e.DIG="DIG",e.ACE="ACE",e.T1_SCORE_INCREMENT="T1_SCORE_INCREMENT",e.T1_SCORE_DECREMENT="T1_SCORE_DECREMENT",e.T2_SCORE_INCREMENT="T2_SCORE_INCREMENT",e.T2_SCORE_DECREMENT="T2_SCORE_DECREMENT"}(a||(a={}));var w=Object(k.b)(),A=Object(S.a)(Object(S.a)({},w.getInitialState()),{},{total:0}),R=Object(k.c)({name:"games",initialState:A,reducers:{addGame:function(e,n){w.addOne(e,n.payload)},incrementTeam1:function(e,n){var t=j.a.cloneDeep(n.payload.game);t.sets[n.payload.set].team1Score++,t.sets[n.payload.set].events.push({type:a.T1_SCORE_INCREMENT,at:O()().format()}),w.updateOne(e,{id:t.id,changes:t})},incrementTeam2:function(e,n){var t=j.a.cloneDeep(n.payload.game);t.sets[n.payload.set].team2Score++,t.sets[n.payload.set].events.push({type:a.T2_SCORE_INCREMENT,at:O()().format()}),w.updateOne(e,{id:t.id,changes:t})},decrementTeam1:function(e,n){if(n.payload.game.sets[n.payload.set].team1Score>0){var t=j.a.cloneDeep(n.payload.game);t.sets[n.payload.set].team1Score--,t.sets[n.payload.set].events.push({type:a.T1_SCORE_DECREMENT,at:O()().format()}),w.updateOne(e,{id:t.id,changes:t})}},decrementTeam2:function(e,n){if(n.payload.game.sets[n.payload.set].team2Score>0){var t=j.a.cloneDeep(n.payload.game);t.sets[n.payload.set].team2Score--,t.sets[n.payload.set].events.push({type:a.T2_SCORE_DECREMENT,at:O()().format()}),w.updateOne(e,{id:t.id,changes:t})}},addSet:function(e,n){var t=j.a.cloneDeep(n.payload);t.sets.push({team1Score:0,team2Score:0,events:[],at:O()().format()}),w.updateOne(e,{id:t.id,changes:t})},addEvent:function(e,n){var t=j.a.cloneDeep(n.payload.game);t.sets[n.payload.set].events.push(n.payload.event),w.updateOne(e,{id:t.id,changes:t})}}}),I=R.actions,_=I.addEvent,M=I.addGame,z=I.addSet,D=I.decrementTeam1,G=I.decrementTeam2,K=I.incrementTeam1,P=I.incrementTeam2,q=t(29);function F(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: ",";\n  height: 100px;\n  margin: 8px;\n  background-color: ",";\n  color: white;\n  border-radius: 4px;\n  cursor: pointer;\n  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\n  transition: 0.1s ease-in-out;\n\n  .label {\n    font-size: 24px;\n    margin-bottom: 8px;\n  }\n\n  .label,\n  svg {\n    transition: 0.1s ease-in-out;\n  }\n\n  &:hover {\n    box-shadow: 0 5px 11px 0 rgba(0, 0, 0, 0.18), 0 4px 15px 0 rgba(0, 0, 0, 0.15);\n\n    .label {\n      transform: ",";\n    }\n\n    svg {\n      transform: ",";\n    }\n  }\n"]);return F=function(){return e},e}var B=function(e){return c.a.createElement(L,{positive:e.event.positive,type:e.event.type,onClick:function(){return e.onClick(e.event)}},c.a.createElement("div",{className:"label"},function(e){switch(e){case a.ACE:return"Ace";case a.ATTACK:return"Attaque";case a.BLOCK:return"Block";case a.DIG:return"D\xe9fense";case a.PASS:return"Passe";case a.RECEPTION:return"R\xe9ception";case a.SERVICE:return"Service"}return e}(e.event.type)),c.a.createElement(v.a,{size:"2x",icon:e.event.positive?g.e:g.d}))},L=q.a.div(F(),(function(e){return e.type===a.ACE?"100%":"170px"}),(function(e){return e.positive?f.green[6]:f.red[6]}),(function(e){return e.positive?"rotateZ(-10deg)":"rotateZ(10deg)"}),(function(e){return e.positive?"rotateZ(-25deg)":"rotateZ(25deg)"}));function V(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100px;\n  min-width: 170px;\n  margin: 8px;\n  padding: 8px;\n  background-color: ",";\n  color: white;\n  border-radius: 4px;\n  cursor: pointer;\n  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\n\n  .label {\n    font-size: 24px;\n  }\n\n  .number {\n    font-size: 32px;\n  }\n\n  &:hover {\n    box-shadow: 0 5px 11px 0 rgba(0, 0, 0, 0.18), 0 4px 15px 0 rgba(0, 0, 0, 0.15);\n  }\n"]);return V=function(){return e},e}var H=function(e){return c.a.createElement(Y,{onClick:function(){return e.onClick(e.player)}},c.a.createElement("div",{className:"label"},e.player.name),c.a.createElement("div",{className:"number"},e.player.number))},Y=q.a.div(V(),f.gold[6]);function W(){var e=Object(d.a)(["\n  margin-top: 24px;\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n"]);return W=function(){return e},e}var Q=function(e){var n=Object(r.useState)(void 0),t=Object(E.a)(n,2),i=t[0],l=t[1],o=function(e){l(e)};return c.a.createElement(Z,null,!i&&c.a.createElement(c.a.Fragment,null,c.a.createElement(B,{event:{type:a.SERVICE,positive:!0},onClick:function(e){return o(e)}}),c.a.createElement(B,{event:{type:a.SERVICE,positive:!1},onClick:function(e){return o(e)}}),c.a.createElement(B,{event:{type:a.RECEPTION,positive:!0},onClick:function(e){return o(e)}}),c.a.createElement(B,{event:{type:a.RECEPTION,positive:!1},onClick:function(e){return o(e)}}),c.a.createElement(B,{event:{type:a.PASS,positive:!0},onClick:function(e){return o(e)}}),c.a.createElement(B,{event:{type:a.PASS,positive:!1},onClick:function(e){return o(e)}}),c.a.createElement(B,{event:{type:a.ATTACK,positive:!0},onClick:function(e){return o(e)}}),c.a.createElement(B,{event:{type:a.ATTACK,positive:!1},onClick:function(e){return o(e)}}),c.a.createElement(B,{event:{type:a.BLOCK,positive:!0},onClick:function(e){return o(e)}}),c.a.createElement(B,{event:{type:a.BLOCK,positive:!1},onClick:function(e){return o(e)}}),c.a.createElement(B,{event:{type:a.DIG,positive:!0},onClick:function(e){return o(e)}}),c.a.createElement(B,{event:{type:a.DIG,positive:!1},onClick:function(e){return o(e)}}),c.a.createElement(B,{event:{type:a.ACE,positive:!0},onClick:function(e){return o(e)}})),i&&c.a.createElement(c.a.Fragment,null,e.team.map((function(n){return c.a.createElement(H,{key:n.name+":"+n.number,player:n,onClick:function(n){return function(n){e.onAddAction(Object(S.a)(Object(S.a)({},i),{},{player:n})),l(void 0)}(n)}})}))))},Z=q.a.div(W());function J(){var e=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 80px;\n  background-color: ",";\n\n  > span {\n    color: white;\n  }\n\n  .brand {\n    font-family: 'Pacifico';\n    margin-left: 12px;\n    font-size: 30px;\n  }\n\n  .baseline {\n    margin-right: 12px;\n    font-size: 22px;\n\n    span {\n      margin-left: 6px;\n    }\n  }\n"]);return J=function(){return e},e}var U=q.a.div(J(),f.cyan[9]),$=function(){return c.a.createElement(U,null,c.a.createElement("span",{className:"brand"},"Goat keeper"),c.a.createElement("span",{className:"baseline"},"Volleyball stats tracker",c.a.createElement("span",{role:"img","aria-label":"volleyball"},"\ud83c\udfd0")))};function X(){var e=Object(d.a)(["\n  height: calc(100vh - 80px);\n  padding: 8px;\n\n  .date {\n    display: flex;\n    width: 100%;\n    justify-content: center;\n    font-size: 24px;\n  }\n\n  .setSelector {\n    display: flex;\n    width: 100%;\n    justify-content: center;\n    margin: 12px 0px;\n\n    .ant-radio-button-wrapper {\n      width: 120px;\n      text-align: center;\n    }\n\n    button {\n      margin-left: 8px;\n    }\n  }\n\n  .header {\n    display: flex;\n    width: 100%;\n    justify-content: center;\n\n    .side {\n      display: flex;\n      align-items: center;\n      user-select: none;\n\n      h2 {\n        width: 150px;\n        margin: 0 8px;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        color: ",";\n      }\n\n      &.left h2 {\n        text-align: right;\n      }\n\n      .score {\n        width: 80px;\n        text-align: center;\n        font-size: 36px;\n        padding: 4px;\n        margin: 4px;\n        background-color: ",";\n        color: white;\n        border-radius: 4px;\n\n        &.t1.leaderT1,\n        &.t2.leaderT2 {\n          background-color: ",";\n        }\n\n        &.t1.leaderT2,\n        &.t2.leaderT1 {\n          background-color: ",";\n        }\n      }\n\n      svg {\n        margin: 8px;\n        cursor: pointer;\n      }\n    }\n  }\n"]);return X=function(){return e},e}var ee,ne=b.a.Title;!function(e){e.EQ="EQ",e.T1="T1",e.T2="T2"}(ee||(ee={}));var te=q.a.div(X(),f.grey[5],f.blue[5],f.green[6],f.red[6]),ae=function(){var e=Object(m.h)().id,n=Object(o.c)((function(n){return n.games.entities[e]})),t=Object(o.b)(),a=Object(r.useState)(n?n.sets.length-1:0),i=Object(E.a)(a,2),l=i[0],s=i[1],u=ee.EQ;n&&(u=n.sets[l].team1Score>n.sets[l].team2Score?ee.T1:n.sets[l].team1Score<n.sets[l].team2Score?ee.T2:ee.EQ);return c.a.createElement(c.a.Fragment,null,c.a.createElement($,null),n&&c.a.createElement(te,null,c.a.createElement(h.a,null,c.a.createElement(y.a,{className:"date"},O()(n.at).format("DD/MM/YYYY")),c.a.createElement(y.a,{className:"setSelector"},c.a.createElement(x.default.Group,{onChange:function(e){return s(e.target.value)},value:l,buttonStyle:"solid",size:"large"},n.sets.map((function(e,n){return c.a.createElement(x.default.Button,{key:n,value:n},"Set ",n+1," (",e.team1Score,"-",e.team2Score,")")}))),n.sets.length<5&&c.a.createElement(C.a,{type:"primary",onClick:function(){return t(z(n))},size:"large"},c.a.createElement(v.a,{icon:g.b}))),c.a.createElement(y.a,{className:"header"},c.a.createElement("div",{className:"side left"},c.a.createElement(v.a,{icon:g.c,size:"3x",onClick:function(){return t(K({game:n,set:l}))}}),c.a.createElement(v.a,{icon:g.a,size:"3x",onClick:function(){return t(D({game:n,set:l}))}}),c.a.createElement(ne,{level:2},n.team1.name),c.a.createElement("span",{className:"score t1 leader".concat(u)},n.sets[l].team1Score)),c.a.createElement("div",{className:"side"},c.a.createElement("span",{className:"score t2 leader".concat(u)},n.sets[l].team2Score),c.a.createElement(ne,{level:2},n.team2.name),c.a.createElement(v.a,{icon:g.c,size:"3x",onClick:function(){return t(P({game:n,set:l}))}}),c.a.createElement(v.a,{icon:g.a,size:"3x",onClick:function(){return t(G({game:n,set:l}))}}))),c.a.createElement(y.a,{className:"actions",xs:{span:20,offset:2},lg:{span:10,offset:7}},c.a.createElement(Q,{team:n.team1.players,onAddAction:function(e){t(_({game:n,set:l,event:e}))}})))))};function re(){var e=Object(d.a)(["\n  height: calc(100vh - 80px);\n\n  button {\n    font-size: 24px;\n    margin-top: 24px;\n    font-weight: bold;\n    height: 100px;\n  }\n"]);return re=function(){return e},e}var ce=q.a.div(re()),ie=function(){var e=Object(m.g)();return c.a.createElement(c.a.Fragment,null,c.a.createElement($,null),c.a.createElement(ce,null,c.a.createElement(h.a,null,c.a.createElement(y.a,{xs:{span:20,offset:2},lg:{span:10,offset:7}},c.a.createElement(C.a,{block:!0,size:"large",type:"primary",onClick:function(){return e.push(ge.NEW_GAME)}},"Nouveau match"),c.a.createElement(C.a,{block:!0,size:"large",type:"primary",onClick:function(){return e.push(ge.GAME_HISTORY)}},"Historique")))))},le=t(387),oe=t(388),se=t(385),ue=t(390),me=t(389);function pe(){var e=Object(d.a)(["\n  height: calc(100vh - 80px);\n  margin-top: 24px;\n\n  .ant-space {\n    display: flex;\n    width: 100%;\n\n    .ant-space-item:nth-child(1) {\n      width: 50%;\n    }\n\n    svg.fa-trash {\n      margin-top: 8px;\n    }\n  }\n\n  .add-player svg.fa-plus {\n    margin-right: 8px;\n  }\n"]);return pe=function(){return e},e}var de=b.a.Title,Ee=q.a.div(pe()),fe=function(){var e=Object(m.g)(),n=Object(o.b)(),t=le.a.useForm(),a=Object(E.a)(t,1)[0];return c.a.createElement(c.a.Fragment,null,c.a.createElement($,null),c.a.createElement(Ee,null,c.a.createElement(h.a,null,c.a.createElement(y.a,{xs:{span:20,offset:2},lg:{span:10,offset:7}},c.a.createElement(de,{level:2},"Nouveau match"),c.a.createElement(le.a,{form:a,layout:"vertical",onFinish:function(){var t=Object(me.a)(),r=a.getFieldValue("players");r||(r=[{name:"Tous",number:0}]);var c={name:a.getFieldValue("team1"),players:r},i={name:a.getFieldValue("team2"),players:[]},l=[{team1Score:0,team2Score:0,events:[],at:O()().format()}];n(M({id:t,team1:c,team2:i,sets:l,at:O()().format()})),e.push(be(ge.GAME,[{parameter:"id",value:t}]))}},c.a.createElement(le.a.Item,{name:"team1",label:"Ton \xe9quipe",rules:[{required:!0,message:"requis"}],validateTrigger:["onChange","onBlur"]},c.a.createElement(oe.a,{size:"large"})),c.a.createElement(le.a.Item,{name:"team2",label:"L'autre \xe9quipe",rules:[{required:!0,message:"requis"}],validateTrigger:["onChange","onBlur"]},c.a.createElement(oe.a,{size:"large"})),c.a.createElement(le.a.List,{name:"players"},(function(e,n){var t=n.add,a=n.remove;return c.a.createElement("div",null,e.map((function(n){return c.a.createElement(se.a,{key:n.key,align:"start"},c.a.createElement(le.a.Item,Object.assign({},n,{name:[n.name,"name"],fieldKey:[n.fieldKey,"name"],rules:[{required:!0,message:"requis"}],label:"Nom"}),c.a.createElement(oe.a,{placeholder:"nom du joueur",size:"large"})),c.a.createElement(le.a.Item,Object.assign({},n,{name:[n.name,"number"],fieldKey:[n.fieldKey,"number"],rules:[{required:!0,message:"requis"}],label:"Num\xe9ro"}),c.a.createElement(ue.a,{min:0,step:"1",size:"large"})),e.length>1?c.a.createElement(v.a,{icon:g.f,className:"dynamic-delete-button",onClick:function(){return a(n.name)}}):null)})),c.a.createElement(le.a.Item,{className:"add-player"},c.a.createElement(C.a,{block:!0,type:"dashed",onClick:function(){t()},size:"large"},c.a.createElement(v.a,{icon:g.b})," Ajouter un joueur")))})),c.a.createElement(le.a.Item,null,c.a.createElement(C.a,{block:!0,type:"primary",htmlType:"submit",size:"large"},"OK")))))))},ge={HOME:"/home",NEW_GAME:"/new-game",GAME_HISTORY:"/game-history",GAME:"/game/:id",DEFAULT:"/:anything_else"},ve=[{path:ge.HOME,exact:!0,component:ie},{path:ge.NEW_GAME,exact:!0,component:fe},{path:ge.GAME,exact:!0,component:ae},{path:ge.DEFAULT,redirectTo:ge.HOME},{path:"",exact:!0,redirectTo:ge.HOME}],be=function(e,n){return n.map((function(n){return e=e.replace(":"+n.parameter,n.value.toString()),null})),e},he=function(){return c.a.createElement(u.a,null,c.a.createElement(m.d,null,ve.map((function(e,n){return c.a.createElement(p,Object.assign({key:n},e))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye=t(19),xe=t(50),Ce=t(200),Te=t.n(Ce),Oe=t(201),Se=t.n(Oe),ke=Object(ye.c)({games:R.reducer}),Ne={key:"gkState",storage:Se.a,whitelist:["games"],stateReconciler:Te.a},je=Object(xe.g)(Ne,ke),we=Object(k.a)({reducer:je,middleware:Object(k.d)({serializableCheck:{ignoredActions:[xe.a,xe.f,xe.b,xe.c,xe.d,xe.e]}})}),Ae=Object(xe.h)(we);l.a.render(c.a.createElement(o.a,{store:we},c.a.createElement(s.PersistGate,{loading:null,persistor:Ae},c.a.createElement(he,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[207,1,2]]]);
//# sourceMappingURL=main.ef95ded4.chunk.js.map