(this["webpackJsonpgoat-keeper"]=this["webpackJsonpgoat-keeper"]||[]).push([[0],{104:function(e,n,t){"use strict";var a;t.d(n,"a",(function(){return a})),t.d(n,"c",(function(){return r})),t.d(n,"b",(function(){return c})),function(e){e.SERVICE="SERVICE",e.RECEPTION="RECEPTION",e.PASS="PASS",e.ATTACK="ATTACK",e.BLOCK="BLOCK",e.DIG="DIG",e.ACE="ACE",e.T1_SCORE_UPDATE="T1_SCORE_UPDATE",e.T2_SCORE_UPDATE="T2_SCORE_UPDATE"}(a||(a={}));var r=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case a.ACE:return"Ace";case a.ATTACK:return n?"Att.":"Attaque";case a.BLOCK:return n?"Bl.":"Block";case a.DIG:return n?"D\xe9f.":"D\xe9fense";case a.PASS:return n?"Pa.":"Passe";case a.RECEPTION:return n?"R\xe9c.":"R\xe9ception";case a.SERVICE:return n?"Ser.":"Service"}return e},c=[a.SERVICE,a.RECEPTION,a.PASS,a.ATTACK,a.BLOCK,a.DIG,a.ACE]},13:function(e,n,t){"use strict";var a=t(104);t.d(n,"GameEventType",(function(){return a.a})),t.d(n,"gameEvents",(function(){return a.b})),t.d(n,"readable",(function(){return a.c}));var r=t(61);t.d(n,"generateDemoGame",(function(){return r.e})),t.d(n,"getSetDuration",(function(){return r.f})),t.d(n,"getTotalDuration",(function(){return r.g}));var c=t(221);t.d(n,"getKey",(function(){return c.a}));t(222)},221:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var a=function(e){return e.name+":"+e.number}},222:function(e,n){},351:function(e,n,t){e.exports=t(611)},352:function(e,n,t){},61:function(e,n,t){"use strict";t.d(n,"a",(function(){return o})),t.d(n,"b",(function(){return i})),t.d(n,"d",(function(){return u})),t.d(n,"f",(function(){return m})),t.d(n,"g",(function(){return s})),t.d(n,"h",(function(){return p})),t.d(n,"c",(function(){return d})),t.d(n,"e",(function(){return f}));var a=t(43),r=t.n(a),c=t(13),l=t(612),o=99,i=0,u=function(e){return e.team1.name+" vs "+e.team2.name},m=function(e){return e.events.length<2?0:r()(e.events[e.events.length-1].at).diff(e.events[0].at,"minute")},s=function(e){return e.sets.reduce((function(e,n){return e+m(n)}),0)},p=function(e,n){return(e.team1.name+e.team2.name).localeCompare(n.team1.name+n.team2.name)},d=function(e){return e.sets.reduce((function(e,n){return e+n.events.length}),0)},f=function(){var e=[{name:"Jenia Grebennikov",number:2},{name:"Jean Patry",number:4},{name:"Benjamin Toniutti",number:6},{name:"K\xe9vin Tillie",number:7},{name:"Julien Lyneel",number:8},{name:"Earvin Ngapeth",number:9},{name:"K\xe9vin Le Roux",number:10},{name:"Antoine Brizard",number:11},{name:"Stephen Boyer",number:12},{name:"Nicolas Le Goff",number:14},{name:"Daryl Bultor",number:16},{name:"Tr\xe9vor Cl\xe9venot",number:17},{name:"Thibault Rossard",number:18},{name:"Barth\xe9l\xe9my Chinenyeze",number:21}],n={id:Object(l.a)(),at:r()().format(),team1:{name:"France",players:e},team2:{name:"Slov\xe9nie",players:[]},sets:[]},t=r()(),a=0;do{n.sets.push({team1Score:0,team2Score:0,events:[],at:t.format()});do{var o=E(1,10);do{var i=c.gameEvents[E(0,c.gameEvents.length-1)];n.sets[a].events.push({player:e[E(0,e.length-1)],type:i,positive:Math.random()<.5||i===c.GameEventType.ACE,at:t.format()}),t=t.add(E(5,15),"second"),o--}while(o>0);Math.random()<.5?(n.sets[a].team1Score++,n.sets[a].events.push({type:c.GameEventType.T1_SCORE_UPDATE,value:n.sets[a].team1Score,at:t.format()})):(n.sets[a].team2Score++,n.sets[a].events.push({type:c.GameEventType.T2_SCORE_UPDATE,value:n.sets[a].team2Score,at:t.format()}))}while(a<4&&n.sets[a].team1Score<25&&n.sets[a].team2Score<25||4===a&&n.sets[a].team1Score<15&&n.sets[a].team2Score<15);t=t.add(E(5,30),"second"),a++}while(a<5);return n},E=function(e,n){return+(Math.random()*(n-e)+e).toFixed(0)}},611:function(e,n,t){"use strict";t.r(n);t(352),t(353);var a=t(0),r=t.n(a),c=t(28),l=t.n(c),o=t(53),i=t(276),u=t(72),m=t(46),s=t(35),p=t(98),d=t(11),f=t(614),E=t(615),g=t(43),v=t.n(g),h=t(59),b=t(13),y=t(36);function x(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100px;\n  padding: 16px;\n  margin: 0px 8px 8px 0px;\n  background-color: ",";\n  color: white;\n  border-radius: 4px;\n  cursor: pointer;\n\n  .label {\n    font-size: 24px;\n  }\n"]);return x=function(){return e},e}var T=function(e){return r.a.createElement(O,{positive:e.event.positive,type:e.event.type,onClick:function(){return e.onClick(e.event)}},r.a.createElement("div",{className:"label"},Object(b.readable)(e.event.type)))},O=y.a.div(x(),(function(e){return e.positive?d.d[7]:d.f[6]}));function S(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100px;\n  padding: 16px;\n  margin: 0px 8px 8px 0px;\n  background-color: ",";\n  color: white;\n  border-radius: 4px;\n  cursor: pointer;\n\n  .label {\n    font-size: 24px;\n  }\n\n  .number {\n    font-size: 32px;\n  }\n"]);return S=function(){return e},e}var k=function(e){return r.a.createElement(j,{onClick:function(){return e.onClick(e.player)}},r.a.createElement("div",{className:"label"},e.player.name),r.a.createElement("div",{className:"number"},e.player.number))},j=y.a.div(S(),d.a[4]);function A(){var e=Object(s.a)(["\n  .topline {\n    width: 100%;\n    display: flex;\n    font-weight: bold;\n    justify-content: center;\n\n    span {\n      font-size: 20px;\n    }\n\n    button.link {\n      font-weight: 700;\n    }\n  }\n\n  .side,\n  .players {\n    padding: 16px;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin-bottom: 16px;\n  }\n\n  .side {\n    &.success {\n      background-color: ",";\n      border: 2px solid ",";\n    }\n\n    &.failure {\n      background-color: ",";\n      border: 2px solid ",";\n    }\n  }\n\n  .players {\n    background-color: ",";\n    border: 2px solid ",";\n  }\n"]);return A=function(){return e},e}var C,w=function(e){var n=Object(a.useState)(void 0),t=Object(p.a)(n,2),c=t[0],l=t[1],o=function(e){l(Object(h.a)(Object(h.a)({},e),{},{at:v()().format()}))},i=Object.values(b.GameEventType).filter((function(e){return![b.GameEventType.T1_SCORE_UPDATE,b.GameEventType.T2_SCORE_UPDATE].includes(e)})),u=Object.values(b.GameEventType).filter((function(e){return![b.GameEventType.T1_SCORE_UPDATE,b.GameEventType.T2_SCORE_UPDATE,b.GameEventType.ACE].includes(e)}));return r.a.createElement(N,null,!c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"topline"},r.a.createElement("span",null,"Que s'est-il pass\xe9 ?")),r.a.createElement("div",{className:"side success"},i.map((function(e){return r.a.createElement(T,{key:e,event:{type:e,positive:!0},onClick:o})}))),r.a.createElement("div",{className:"side failure"},u.map((function(e){return r.a.createElement(T,{key:e,event:{type:e,positive:!1},onClick:o})})))),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"topline"},r.a.createElement("span",null,"Qui a ",c.positive?"brillamment r\xe9ussi":"(encore) totalement foir\xe9"," son geste (",r.a.createElement("button",{className:"link",onClick:function(){return l(void 0)}},"annuler"),") ?")),r.a.createElement("div",{className:"players"},e.team.map((function(n){return r.a.createElement(k,{key:n.name+":"+n.number,player:n,onClick:function(n){return function(n){e.onAddAction(Object(h.a)(Object(h.a)({},c),{},{player:n})),l(void 0)}(n)}})})))))},N=y.a.div(A(),d.d[1],d.d[3],d.f[1],d.f[3],d.a[1],d.a[3]),G=t(45),_=t(44);function D(){var e=Object(s.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n\n  .side {\n    display: flex;\n    align-items: center;\n    user-select: none;\n\n    svg {\n      transition: 0.3s all;\n      color: ",";\n\n      &:hover {\n        color: ",";\n      }\n    }\n\n    .score {\n      width: 80px;\n      text-align: center;\n      font-size: 44px;\n      font-weight: 700;\n      padding: 4px;\n      background-color: ",";\n      color: white;\n\n      &.t1.leaderT1,\n      &.t2.leaderT2 {\n        background-color: ",";\n      }\n\n      &.t1.leaderT2,\n      &.t2.leaderT1 {\n        background-color: ",";\n      }\n    }\n\n    .score-controls {\n      width: 40px;\n      padding: 4px;\n      display: flex;\n      flex-direction: column;\n      background-color: ",";\n\n      svg {\n        color: white;\n        margin: 8px;\n        cursor: pointer;\n        transition: 0.3s all;\n\n        &:hover {\n          color: ",";\n        }\n      }\n    }\n\n    &.left {\n      .score-controls {\n        border-top-left-radius: 4px;\n        border-bottom-left-radius: 4px;\n      }\n    }\n\n    &.right {\n      .score-controls {\n        border-top-right-radius: 4px;\n        border-bottom-right-radius: 4px;\n      }\n    }\n  }\n"]);return D=function(){return e},e}!function(e){e.EQ="EQ",e.T1="T1",e.T2="T2"}(C||(C={}));var z=function(e){var n=e.t1Score>e.t2Score?C.T1:e.t1Score<e.t2Score?C.T2:C.EQ;return r.a.createElement(M,null,r.a.createElement("div",{className:"side left"},r.a.createElement("div",{className:"score-controls"},r.a.createElement(_.a,{icon:G.c,size:"lg",onClick:e.onIncrementT1}),r.a.createElement(_.a,{icon:G.b,size:"lg",onClick:e.onDecrementT1})),r.a.createElement("span",{className:"score t1 leader".concat(n)},e.t1Score)),r.a.createElement("div",{className:"side right"},r.a.createElement("span",{className:"score t2 leader".concat(n)},e.t2Score),r.a.createElement("div",{className:"score-controls"},r.a.createElement(_.a,{icon:G.c,size:"lg",onClick:e.onIncrementT2}),r.a.createElement(_.a,{icon:G.b,size:"lg",onClick:e.onDecrementT2}))))},M=y.a.div(D(),d.b[8],d.b[6],d.a[4],d.d[7],d.f[6],d.b[8],d.b[7]),I=t(157),P=t(62);function R(){var e=Object(s.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  margin: 12px 0px;\n\n  .ant-radio-button-wrapper {\n    width: 48px;\n    padding: 0px 2px;\n    text-align: center;\n  }\n\n  button {\n    margin-left: 8px;\n  }\n"]);return R=function(){return e},e}var F=function(e){return r.a.createElement(K,null,r.a.createElement(I.default.Group,{onChange:function(n){return e.onSetChanged(n.target.value)},value:e.selectedSet,buttonStyle:"solid",size:"large"},e.game.sets.map((function(e,n){return r.a.createElement(I.default.Button,{key:n,value:n},e.team1Score,"\u2022",e.team2Score)}))),e.game.sets.length<5&&r.a.createElement(P.a,{type:"primary",onClick:e.onAddSet,size:"large"},r.a.createElement(_.a,{icon:G.f})))},K=y.a.div(R()),U=t(280),B=t(83);function q(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 80px;\n  background: linear-gradient(to right, ",", ",");\n  margin-bottom: 16px;\n\n  > span {\n    color: white;\n  }\n\n  .brand {\n    display: flex;\n    align-items: center;\n    font-family: 'Pacifico';\n    margin-left: 24px;\n    font-size: 30px;\n    cursor: pointer;\n\n    img {\n      width: 30px;\n      margin-left: 15px;\n    }\n  }\n\n  .actions svg {\n    color: white;\n    margin-right: 24px;\n    cursor: pointer;\n    transition: 0.3s ease-in-out;\n\n    &:hover {\n      color: ",";\n    }\n  }\n"]);return q=function(){return e},e}var L=function(){var e=Object(m.g)();return r.a.createElement(W,null,r.a.createElement("span",{className:"brand",onClick:function(){return e.push(rn.HOME)}},"Goat keeper"),r.a.createElement("div",{className:"actions"},r.a.createElement(B.a,{placement:"left",title:"matchs pr\xe9c\xe9dents"},r.a.createElement(_.a,{size:"lg",icon:G.e,onClick:function(){return e.push(rn.GAME_LIST)}})),r.a.createElement(B.a,{placement:"left",title:"nouveau match"},r.a.createElement(_.a,{size:"lg",icon:G.g,onClick:function(){return e.push(rn.NEW_GAME)}})),r.a.createElement(u.b,{to:{pathname:"https://github.com/florianMo/goat-keeper"},target:"_blank"},r.a.createElement(_.a,{size:"lg",icon:U.a}))))},W=y.a.div(q(),d.b[9],d.b[6],d.b[8]),H=t(61),V=t(130),J=t(89),Q=t.n(J),Y=t(104),$=Object(V.b)(),X=Object(h.a)(Object(h.a)({},$.getInitialState()),{},{total:0}),Z=Object(V.c)({name:"games",initialState:X,reducers:{addGame:function(e,n){$.addOne(e,n.payload)},deleteGame:function(e,n){$.removeOne(e,n.payload)},addPlayer:function(e,n){var t=Q.a.cloneDeep(n.payload.game);t.team1.players.push(n.payload.player),$.updateOne(e,{id:t.id,changes:t})},deletePlayer:function(e,n){var t=Q.a.cloneDeep(n.payload.game),a=n.payload.playerKey.split(":"),r=a[0],c=parseInt(a[1],10);t.team1.players=t.team1.players.filter((function(e){return r!==e.name&&c!==e.number})),$.updateOne(e,{id:t.id,changes:t})},incrementTeam1:function(e,n){var t=Q.a.cloneDeep(n.payload.game);t.sets[n.payload.set].team1Score++,t.sets[n.payload.set].events.push({type:Y.a.T1_SCORE_UPDATE,value:t.sets[n.payload.set].team1Score,at:v()().format()}),$.updateOne(e,{id:t.id,changes:t})},incrementTeam2:function(e,n){var t=Q.a.cloneDeep(n.payload.game);t.sets[n.payload.set].team2Score++,t.sets[n.payload.set].events.push({type:Y.a.T2_SCORE_UPDATE,value:t.sets[n.payload.set].team2Score,at:v()().format()}),$.updateOne(e,{id:t.id,changes:t})},decrementTeam1:function(e,n){var t=Q.a.cloneDeep(n.payload.game);t.sets[n.payload.set].team1Score--,t.sets[n.payload.set].events.push({type:Y.a.T1_SCORE_UPDATE,value:t.sets[n.payload.set].team1Score,at:v()().format()}),$.updateOne(e,{id:t.id,changes:t})},decrementTeam2:function(e,n){var t=Q.a.cloneDeep(n.payload.game);t.sets[n.payload.set].team2Score--,t.sets[n.payload.set].events.push({type:Y.a.T2_SCORE_UPDATE,value:t.sets[n.payload.set].team2Score,at:v()().format()}),$.updateOne(e,{id:t.id,changes:t})},addSet:function(e,n){var t=Q.a.cloneDeep(n.payload);t.sets.push({team1Score:0,team2Score:0,events:[],at:v()().format()}),$.updateOne(e,{id:t.id,changes:t})},addEvent:function(e,n){var t=Q.a.cloneDeep(n.payload.game);t.sets[n.payload.set].events.push(n.payload.event),$.updateOne(e,{id:t.id,changes:t})}}}),ee=Z.actions,ne=ee.addEvent,te=ee.addGame,ae=ee.addPlayer,re=ee.addSet,ce=ee.decrementTeam1,le=ee.decrementTeam2,oe=ee.deleteGame,ie=ee.deletePlayer,ue=ee.incrementTeam1,me=ee.incrementTeam2;function se(){var e=Object(s.a)(["\n  height: calc(100vh - 80px);\n  padding: 8px;\n\n  .date {\n    display: flex;\n    width: 100%;\n    justify-content: center;\n    font-size: 24px;\n  }\n\n  .setSelector {\n    display: flex;\n    width: 100%;\n    justify-content: center;\n    margin: 12px 0px;\n  }\n\n  .team-names {\n    display: flex;\n    width: 100%;\n\n    span {\n      font-size: 40px;\n      flex: 0 0 50%;\n      padding: 0 8px;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      color: ",";\n\n      &:nth-child(1) {\n        text-align: right;\n      }\n    }\n  }\n\n  .header {\n    display: flex;\n    width: 100%;\n    justify-content: center;\n  }\n\n  .actions .links {\n    margin: auto;\n    display: flex;\n    justify-content: center;\n    margin-top: 8px;\n    margin-bottom: 8px;\n\n    button {\n      margin: 4px;\n    }\n  }\n"]);return se=function(){return e},e}var pe=y.a.div(se(),d.c[5]),de=t(619),fe=t(621),Ee=t(617);function ge(){var e=Object(s.a)(["\n  display: flex;\n\n  span {\n    padding: 2px 4px;\n    margin-left: 4px;\n    border-radius: 4px;\n    text-align: center;\n    color: white;\n    font-weight: 700;\n    background-color: ",";\n\n    &.won {\n      background-color: ",";\n    }\n\n    &.lost {\n      background-color: ",";\n    }\n  }\n"]);return ge=function(){return e},e}var ve=function(e){return r.a.createElement(he,null,e.game.sets.map((function(e,n){return r.a.createElement("span",{key:n,className:e.team1Score>e.team2Score?"won":e.team1Score<e.team2Score?"lost":""},e.team1Score,"\u2022",e.team2Score)})))},he=y.a.div(ge(),d.a[4],d.d[7],d.f[6]);function be(){var e=Object(s.a)(["\n  height: calc(100vh - 80px);\n  padding: 8px;\n\n  .actions {\n    svg {\n      cursor: pointer;\n      margin-right: 8px;\n      transition: 0.3s all;\n\n      &:hover {\n        color: ",";\n      }\n\n      &[data-icon='trash']:hover {\n        color: ",";\n      }\n    }\n  }\n\n  .fit-content {\n    width: 1%;\n    white-space: nowrap;\n  }\n\n  button {\n    margin-top: 16px;\n  }\n"]);return be=function(){return e},e}var ye=de.a.Title,xe=y.a.div(be(),d.b[8],d.f[5]),Te=t(322),Oe=t(57),Se=function(e){var n=e.playerStats.key.split(":")[0],t=b.gameEvents.filter((function(e){return e!==b.GameEventType.ACE})).map((function(n){return{event:Object(b.readable)(n,!0),value:(t=e.playerStats[n],+(100*t.filter((function(e){return e.positive})).length/t.length).toFixed(0)||0)};var t}));return r.a.createElement(Oe.h,{outerRadius:90,width:280,height:300,data:t,margin:{top:8,right:8,bottom:8,left:8}},r.a.createElement("text",{fontSize:"18",x:"50%",y:"20",dominantBaseline:"middle",textAnchor:"middle"},n),r.a.createElement(Oe.e,null),r.a.createElement(Oe.d,{dataKey:"event"}),r.a.createElement(Oe.f,{angle:30,domain:[0,100],tick:!1}),r.a.createElement(Oe.g,{name:n,dataKey:"value",stroke:d.b[7],fill:d.b[6],fillOpacity:.6}),r.a.createElement(Oe.j,{formatter:function(e,n,t){return e+"%"}}))},ke=function(e){var n=e.set.events.filter((function(e){return e.type===b.GameEventType.T1_SCORE_UPDATE})).map((function(e){return{time:v()(e.at).valueOf(),value:e.value}})),t=e.set.events.filter((function(e){return[b.GameEventType.T1_SCORE_UPDATE,b.GameEventType.T2_SCORE_UPDATE].includes(e.type)})),a=[],c=0,l=0;t.forEach((function(e){c=e.type===b.GameEventType.T1_SCORE_UPDATE?e.value:c,l=e.type===b.GameEventType.T2_SCORE_UPDATE?e.value:l,a.push({time:v()(e.at).valueOf(),t1Score:c,t2Score:l})}));var o={type:"stepAfter",strokeWidth:2,activeDot:{r:4},dot:!1};return r.a.createElement(Oe.i,{width:"100%",height:200},r.a.createElement(Oe.c,{data:a,margin:{top:0,right:0,left:0,bottom:0}},r.a.createElement(Oe.a,{strokeDasharray:"3 3"}),r.a.createElement(Oe.k,{dataKey:"time",name:"Temps",domain:[n[0].time,n[n.length-1].time],tickFormatter:function(e){return v()(e).format(mn)},type:"number"}),r.a.createElement(Oe.l,{domain:[0,25],ticks:[5,10,15,20,25],width:32}),r.a.createElement(Oe.j,{labelFormatter:function(e){return v()(e).format(mn)}}),r.a.createElement(Oe.b,Object.assign({},o,{dataKey:"t1Score",name:e.game.team1.name,stroke:d.b[9]})),r.a.createElement(Oe.b,Object.assign({},o,{dataKey:"t2Score",name:e.game.team2.name,stroke:d.b[6]}))))};function je(){var e=Object(s.a)(["\n  display: flex;\n  flex-wrap: wrap;\n\n  div {\n    width: 150px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 8px 24px;\n    margin: 4px 4px;\n\n    &:first-child {\n      margin-left: 0px;\n    }\n\n    &.xlow {\n      background-color: ",";\n    }\n    &.low {\n      background-color: ",";\n    }\n    &.high {\n      background-color: ",";\n    }\n    &.xhigh {\n      background-color: ",";\n    }\n  }\n\n  .eventType {\n    font-size: 24px;\n  }\n\n  .value {\n    font-size: 48px;\n  }\n\n  .numbers {\n    opacity: 0.8;\n  }\n"]);return je=function(){return e},e}var Ae=function(e){var n=function(n){var t=e.events.filter((function(e){return e.type===n}));return+(100*t.filter((function(e){return e.positive})).length/t.length).toFixed(0)||0},t={};return b.gameEvents.filter((function(e){return e!==b.GameEventType.ACE})).forEach((function(e){t[e]=n(e)})),r.a.createElement(Ce,null,b.gameEvents.map((function(a){return r.a.createElement("div",{key:a,className:t[a]<25?"xlow":t[a]<50?"low":t[a]<75?"high":"xhigh"},r.a.createElement("span",{className:"eventType"},Object(b.readable)(a)),r.a.createElement("span",{className:"value"},a!==b.GameEventType.ACE?n(a)+"%":e.events.filter((function(e){return e.type===b.GameEventType.ACE})).length),a!==b.GameEventType.ACE&&r.a.createElement("span",{className:"numbers"},e.events.filter((function(e){return e.type===a&&e.positive})).length,"/",e.events.filter((function(e){return e.type===a})).length))})))},Ce=y.a.div(je(),d.f[4],d.e[4],d.g[4],d.d[4]);function we(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  svg {\n    color: white;\n    margin-left: 4px;\n  }\n"]);return we=function(){return e},e}var Ne=function(e){return r.a.createElement(Ge,null,r.a.createElement("div",null,e.type!==b.GameEventType.ACE?e.percentage+"% ("+e.events.filter((function(e){return e.positive})).length+"/"+e.events.length+")":e.events.length),e.percentage>90&&e.type!==b.GameEventType.ACE&&r.a.createElement(_.a,{icon:G.i}))},Ge=y.a.div(we());function _e(){var e=Object(s.a)(["\n  td,\n  th {\n    padding: 4px 4px !important;\n  }\n\n  .ant-table-thead > tr > th,\n  .ant-table-tbody > tr > td:nth-child(1) {\n    font-weight: 700;\n  }\n\n  .xlow {\n    border-left: "," ",";\n  }\n  .low {\n    border-left: "," ",";\n  }\n  .high {\n    border-left: "," ",";\n  }\n  .xhigh {\n    border-left: "," ",";\n  }\n\n  .nobg {\n    border-left: none;\n  }\n\n  .fit-content {\n    width: 1%;\n    white-space: nowrap;\n  }\n"]);return _e=function(){return e},e}var De=function(e){var n=[{title:"#",className:"fit-content",render:function(e){return e.key.split(":")[1]},sorter:function(e,n){return parseInt(e.key.split(":")[1],10)>parseInt(n.key.split(":")[1],10)?1:-1}},{title:"Nom",render:function(e){return e.key.split(":")[0]},sorter:function(e,n){return e.key.split(":")[0].localeCompare(n.key.split(":")[0])}}],t=function(e){return+(100*e.filter((function(e){return e.positive})).length/e.length).toFixed(0)||0},a=function(e){var n=t(e);return 0===e.length?"nodata":n<25?"xlow":n<50?"low":n<75?"high":"xhigh"};return b.gameEvents.forEach((function(e){n.push({title:Object(b.readable)(e),className:"fit-content",sorter:function(n,a){return e!==b.GameEventType.ACE?t(n[e])>t(a[e])?1:-1:n[e].length>a[e].length?-1:1},render:function(n){return{props:{className:a(n[e])+(e===b.GameEventType.ACE?" nobg":"")},children:r.a.createElement(Ne,{events:n[e],type:e,percentage:t(n[e])})}}})})),r.a.createElement(Fe,null,r.a.createElement(Ee.a,{bordered:!0,dataSource:e.playerStats,columns:n,pagination:!1,size:"small"}))},ze="8px solid ",Me=d.f[4],Ie=d.e[4],Pe=d.g[4],Re=d.d[4],Fe=y.a.div(_e(),ze,Me,ze,Ie,ze,Pe,ze,Re);function Ke(){var e=Object(s.a)(["\n  height: calc(100vh - 80px);\n  padding: 8px;\n\n  .chartCol {\n    padding: 16px;\n  }\n\n  .radarWrapper {\n    margin-top: 12px;\n    display: flex;\n    flex-wrap: wrap;\n  }\n\n  h4 {\n    margin: 8px 0px;\n  }\n"]);return Ke=function(){return e},e}var Ue=de.a.Title,Be=y.a.div(Ke());function qe(){var e=Object(s.a)(["\n  height: calc(100vh - 80px);\n\n  button {\n    font-size: 24px;\n    margin-top: 24px;\n    font-weight: bold;\n    height: 100px;\n  }\n"]);return qe=function(){return e},e}var Le=y.a.div(qe()),We=t(618),He=t(620),Ve=t(616),Je=t(622),Qe=t(612);function Ye(){var e=Object(s.a)(["\n  height: calc(100vh - 80px);\n  margin-top: 24px;\n\n  .ant-space {\n    display: flex;\n    width: 100%;\n\n    .ant-space-item:nth-child(1) {\n      width: 50%;\n    }\n\n    svg.fa-trash {\n      margin-top: 42px;\n      margin-left: 8px;\n      cursor: pointer;\n\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n\n  .add-player svg.fa-plus {\n    margin-right: 8px;\n  }\n"]);return Ye=function(){return e},e}var $e=de.a.Title,Xe=function(){var e=Object(m.g)(),n=Object(o.b)(),t=We.a.useForm(),a=Object(p.a)(t,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,null),r.a.createElement(Ze,null,r.a.createElement(f.a,null,r.a.createElement(E.a,un,r.a.createElement($e,{level:2},"Nouveau match"),r.a.createElement(We.a,{form:a,layout:"vertical",onFinish:function(){var t=Object(Qe.a)(),r=a.getFieldValue("players");r||(r=[{name:"Tous",number:0}]);var c={name:a.getFieldValue("team1"),players:r},l={name:a.getFieldValue("team2"),players:[]},o=[{team1Score:0,team2Score:0,events:[],at:v()().format()}];n(te({id:t,team1:c,team2:l,sets:o,at:v()().format()})),e.push(ln(rn.GAME,[{parameter:"id",value:t}]))}},r.a.createElement(We.a.Item,{name:"team1",label:"Ton \xe9quipe",rules:[{required:!0,message:"requis"}],validateTrigger:["onChange","onBlur"]},r.a.createElement(He.a,{size:"large"})),r.a.createElement(We.a.Item,{name:"team2",label:"L'autre \xe9quipe",rules:[{required:!0,message:"requis"}],validateTrigger:["onChange","onBlur"]},r.a.createElement(He.a,{size:"large"})),r.a.createElement(We.a.List,{name:"players"},(function(e,n){var t=n.add,a=n.remove;return r.a.createElement("div",null,e.map((function(n){return r.a.createElement(Ve.a,{key:n.key,align:"start"},r.a.createElement(We.a.Item,Object.assign({},n,{name:[n.name,"name"],fieldKey:[n.fieldKey,"name"],rules:[{required:!0,message:"requis"}],label:"Nom"}),r.a.createElement(He.a,{placeholder:"nom du joueur",size:"large"})),r.a.createElement(We.a.Item,Object.assign({},n,{name:[n.name,"number"],fieldKey:[n.fieldKey,"number"],rules:[{required:!0,message:"requis"}],label:"Num\xe9ro"}),r.a.createElement(Je.a,{min:0,step:"1",size:"large"})),e.length>1?r.a.createElement(_.a,{icon:G.j,size:"lg",className:"dynamic-delete-button",onClick:function(){return a(n.name)}}):null)})),r.a.createElement(We.a.Item,{className:"add-player"},r.a.createElement(P.a,{block:!0,type:"dashed",onClick:function(){t()},size:"large"},r.a.createElement(_.a,{icon:G.f})," Ajouter un joueur")))})),r.a.createElement(We.a.Item,null,r.a.createElement(P.a,{block:!0,type:"primary",htmlType:"submit",size:"large"},"OK")))))))},Ze=y.a.div(Ye(),d.f[6]),en=t(286);function nn(){var e=Object(s.a)(["\n  button.link {\n    margin-bottom: 16px;\n  }\n\n  form {\n    margin-top: 24px;\n    margin-bottom: 24px;\n  }\n\n  .fit-content {\n    width: 1%;\n    white-space: nowrap;\n  }\n\n  .actions {\n    svg {\n      transition: 0.3s all;\n      cursor: pointer;\n\n      &:hover {\n        color: ",";\n      }\n\n      &[data-icon='trash']:hover {\n      color: ",";\n    }\n  }\n\n  .button .ant-form-item-control-input-content {\n    text-align: right;\n  }\n"]);return nn=function(){return e},e}var tn=de.a.Title,an=y.a.div(nn(),d.b[8],d.f[5]),rn={HOME:"/goat-keeper/home",NEW_GAME:"/goat-keeper/new-game",GAME_LIST:"/goat-keeper/game-list",GAME:"/goat-keeper/game/:id",GAME_STATS:"/goat-keeper/game/:id/stats",TEAM_MANAGEMENT:"/goat-keeper/game/:id/team",DEFAULT:"/goat-keeper/:anything_else"},cn=[{path:rn.HOME,exact:!0,component:function(){var e=Object(m.g)(),n=Object(o.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,null),r.a.createElement(Le,null,r.a.createElement(f.a,null,r.a.createElement(E.a,{xs:{span:20,offset:2},lg:{span:12,offset:6}},r.a.createElement(P.a,{block:!0,size:"large",type:"primary",onClick:function(){return e.push(rn.NEW_GAME)}},"Nouveau match"),r.a.createElement(P.a,{block:!0,size:"large",type:"primary",onClick:function(){return e.push(rn.GAME_LIST)}},"Matchs pr\xe9c\xe9dents"),r.a.createElement(P.a,{block:!0,size:"large",onClick:function(){var t=Object(b.generateDemoGame)();n(te(t)),e.push(ln(rn.GAME_STATS,[{parameter:"id",value:t.id}]))}},"G\xe9n\xe9rer un match d\xe9mo")))))}},{path:rn.NEW_GAME,exact:!0,component:Xe},{path:rn.GAME,exact:!0,component:function(){var e=Object(m.h)().id,n=Object(m.g)(),t=Object(o.c)((function(n){return n.games.entities[e]})),c=Object(o.b)(),l=Object(a.useState)(t?t.sets.length-1:0),i=Object(p.a)(l,2),u=i[0],s=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,null),t&&r.a.createElement(pe,null,r.a.createElement(f.a,null,r.a.createElement(E.a,{className:"date"},v()(t.at).format(sn)),r.a.createElement(E.a,{className:"setSelector"},r.a.createElement(F,{game:t,selectedSet:u,onSetChanged:function(e){return s(e)},onAddSet:function(){return c(re(t))}})),r.a.createElement(E.a,{className:"team-names"},r.a.createElement("span",null,t.team1.name),r.a.createElement("span",null,t.team2.name)),r.a.createElement(E.a,{className:"header"},r.a.createElement(z,{t1Score:t.sets[u].team1Score,t2Score:t.sets[u].team2Score,onIncrementT1:function(){t.sets[u].team1Score<H.a&&c(ue({game:t,set:u}))},onDecrementT1:function(){t.sets[u].team1Score>H.b&&c(ce({game:t,set:u}))},onIncrementT2:function(){t.sets[u].team2Score<H.a&&c(me({game:t,set:u}))},onDecrementT2:function(){t.sets[u].team2Score>H.b&&c(le({game:t,set:u}))}})),r.a.createElement(E.a,Object.assign({className:"actions"},un),r.a.createElement("div",{className:"links"},r.a.createElement("button",{className:"link team",onClick:function(){return n.push(ln(rn.TEAM_MANAGEMENT,[{parameter:"id",value:t.id}]))}},"G\xe9rer mon \xe9quipe"),r.a.createElement("button",{className:"link stats",onClick:function(){return n.push(ln(rn.GAME_STATS,[{parameter:"id",value:t.id}]))}},"Statistiques")),r.a.createElement(w,{team:t.team1.players,onAddAction:function(e){c(ne({game:t,set:u,event:e}))}})))))}},{path:rn.GAME_LIST,exact:!0,component:function(){var e=Object(m.g)(),n=Object(o.b)(),t=Object(o.c)((function(e){return e.games.entities})),a=[{title:"Date",render:function(e){return v()(e.at).format(sn)},className:"fit-content",sorter:function(e,n){return v()(e.at).isBefore(n.at)?-1:1}},{title:"Match",render:H.d,sorter:H.h},{title:"R\xe9sultat",render:function(e){return r.a.createElement(ve,{game:e})}},{title:"Evts",sorter:function(e,n){return Object(H.c)(e)>Object(H.c)(n)?-1:1},render:H.c},{key:"actions",className:"actions fit-content",render:function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{title:"editer le score et les stats"},r.a.createElement(_.a,{icon:G.h,size:"lg",onClick:function(){return e.push(ln(rn.GAME,[{parameter:"id",value:t.id}]))}})),r.a.createElement(B.a,{title:"visualiser les donn\xe9es du match"},r.a.createElement(_.a,{icon:G.a,size:"lg",onClick:function(){return e.push(ln(rn.GAME_STATS,[{parameter:"id",value:t.id}]))}})),r.a.createElement(B.a,{title:"exporter les donn\xe9es du match"},r.a.createElement(_.a,{icon:G.d,size:"lg",onClick:function(){return e.push(ln(rn.GAME,[{parameter:"id",value:t.id}]))}})),r.a.createElement(B.a,{title:"supprimer le match"},r.a.createElement(fe.a,{title:"s\xfbr ?",onConfirm:function(){return n(oe(t.id))},okText:"Oui",cancelText:"Non en fait"},r.a.createElement(_.a,{icon:G.j,size:"lg"}))))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,null),r.a.createElement(xe,null,r.a.createElement(f.a,null,r.a.createElement(E.a,un,r.a.createElement(ye,{level:2},"Matchs enregistr\xe9s sur ce navigateur"),r.a.createElement(Ee.a,{size:"small",bordered:!0,dataSource:Object.values(t).map((function(e){return Object(h.a)(Object(h.a)({},e),{},{key:e.id})})),columns:a,pagination:!1})),r.a.createElement(E.a,Object.assign({className:"button"},un),r.a.createElement(P.a,{size:"large",type:"primary",block:!0,onClick:function(){return e.push(rn.NEW_GAME)}},"Nouveau match")))))}},{path:rn.GAME_STATS,exact:!0,component:function(){var e=Object(m.h)().id,n=Object(o.c)((function(n){return n.games.entities[e]})),t=Object(Te.a)(n.sets.map((function(e){return e.events.filter((function(e){return b.gameEvents.includes(e.type)}))}))).flat(),a=n.team1.players.map((function(e){var n={key:Object(b.getKey)(e)};return b.gameEvents.forEach((function(a){n[a]=t.filter((function(n){return n.player.name===e.name&&n.player.number===e.number&&n.type===a}))})),n}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,null),n&&r.a.createElement(Be,null,r.a.createElement(f.a,null,r.a.createElement(E.a,null,r.a.createElement(Ue,{level:2},n.team1.name," vs ",n.team2.name,", le ",v()(n.at).format(sn)," (",Object(b.getTotalDuration)(n)+" minutes",")"))),r.a.createElement(f.a,{gutter:16},r.a.createElement(E.a,{xs:24,lg:8},n.sets.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(Ue,{level:4},"Set ",t+1," (",Object(b.getSetDuration)(e)+" minutes",")"),r.a.createElement(ke,{game:n,set:e}))}))),r.a.createElement(E.a,{xs:24,lg:16},r.a.createElement(Ue,{level:4},"Stats \xe9quipe"),r.a.createElement(Ae,{events:t}),r.a.createElement(Ue,{level:4},"Stats joueurs"),r.a.createElement(De,{playerStats:a}),r.a.createElement("div",{className:"radarWrapper"},n.team1.players.map((function(e){return r.a.createElement(Se,{key:Object(b.getKey)(e),playerStats:a.find((function(n){return n.key===Object(b.getKey)(e)}))})})))))))}},{path:rn.TEAM_MANAGEMENT,exact:!0,component:function(){var e=Object(m.h)().id,n=Object(o.b)(),t=Object(m.g)(),a=Object(o.c)((function(n){return n.games.entities[e]})),c=We.a.useForm(),l=Object(p.a)(c,1)[0],i=[{title:"Nom",dataIndex:"name",sorter:function(e,n){return e.name.localeCompare(n.name)}},{title:"Num\xe9ro",dataIndex:"number",sorter:function(e,n){return e.number-n.number}},{key:"actions",className:"actions fit-content",render:function(e){return r.a.createElement(B.a,{key:"delete",title:"supprimer cette personne"},r.a.createElement(fe.a,{title:"s\xfbr ?",onConfirm:function(){return n(ie({game:a,playerKey:e.key}))},okText:"Oui",cancelText:"Non en fait"},r.a.createElement(_.a,{icon:G.j})))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,null),a&&r.a.createElement(an,null,r.a.createElement(f.a,null,r.a.createElement(E.a,un,r.a.createElement(tn,{level:2},"G\xe9rer mon \xe9quipe"),r.a.createElement("button",{className:"link",onClick:function(){return t.push(ln(rn.GAME,[{parameter:"id",value:a.id}]))}},"Retour au match"),r.a.createElement(Ee.a,{size:"small",bordered:!0,dataSource:a.team1.players.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{key:e.name+":"+e.number})})),columns:i,pagination:!1}),r.a.createElement(We.a,{form:l,layout:"horizontal",onFinish:function(e){a.team1.players.some((function(n){return n.name===e.name&&n.number===e.number}))?en.a.error("Cette personne existe d\xe9j\xe0"):(n(ae({game:a,player:e})),l.resetFields())}},r.a.createElement(We.a.Item,{name:"name",label:"Nom",rules:[{required:!0,message:"requis"}],validateTrigger:["onChange","onBlur"]},r.a.createElement(He.a,{placeholder:"nouveau joueur"})),r.a.createElement(We.a.Item,{name:"number",label:"Num\xe9ro",rules:[{required:!0,message:"requis"}],validateTrigger:["onChange","onBlur"]},r.a.createElement(Je.a,null)),r.a.createElement(We.a.Item,{className:"button"},r.a.createElement(P.a,{type:"primary",htmlType:"submit"},"OK")))))))}},{path:rn.DEFAULT,redirectTo:rn.HOME},{path:"",exact:!0,redirectTo:rn.HOME}],ln=function(e,n){return n.map((function(n){return e=e.replace(":"+n.parameter,n.value.toString()),null})),e},on=function(e){return e.redirectTo?r.a.createElement(m.b,{path:e.path,render:function(){return r.a.createElement(m.a,{to:e.redirectTo})}}):r.a.createElement(m.b,{path:e.path,render:function(n){return r.a.createElement(e.component,Object.assign({},n,{routes:e.routes}))}})},un={xs:{span:22,offset:1},md:{span:18,offset:3},lg:{span:16,offset:4}},mn="HH[h]mm",sn="DD/MM/YYYY",pn=function(){return r.a.createElement(u.a,null,r.a.createElement(m.d,null,cn.map((function(e,n){return r.a.createElement(on,Object.assign({key:n},e))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var dn=t(52),fn=t(90),En=t(317),gn=t.n(En),vn=t(318),hn=t.n(vn),bn=Object(dn.c)({games:Z.reducer}),yn={key:"gkState",storage:hn.a,whitelist:["games"],stateReconciler:gn.a},xn=Object(fn.g)(yn,bn),Tn=Object(V.a)({reducer:xn,middleware:Object(V.d)({serializableCheck:{ignoredActions:[fn.a,fn.f,fn.b,fn.c,fn.d,fn.e]}})}),On=Object(fn.h)(Tn);l.a.render(r.a.createElement(o.a,{store:Tn},r.a.createElement(i.PersistGate,{loading:null,persistor:On},r.a.createElement(pn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[351,1,2]]]);
//# sourceMappingURL=main.b661da45.chunk.js.map