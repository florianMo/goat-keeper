(this["webpackJsonpgoat-keeper"]=this["webpackJsonpgoat-keeper"]||[]).push([[0],{104:function(e,n,t){"use strict";var a;t.d(n,"a",(function(){return a})),t.d(n,"c",(function(){return r})),t.d(n,"b",(function(){return c})),function(e){e.SERVICE="SERVICE",e.RECEPTION="RECEPTION",e.PASS="PASS",e.ATTACK="ATTACK",e.BLOCK="BLOCK",e.DIG="DIG",e.ACE="ACE",e.T1_SCORE_UPDATE="T1_SCORE_UPDATE",e.T2_SCORE_UPDATE="T2_SCORE_UPDATE"}(a||(a={}));var r=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case a.ACE:return"Ace";case a.ATTACK:return n?"Att.":"Attaque";case a.BLOCK:return n?"Bl.":"Block";case a.DIG:return n?"D\xe9f.":"D\xe9fense";case a.PASS:return n?"Pa.":"Passe";case a.RECEPTION:return n?"R\xe9c.":"R\xe9ception";case a.SERVICE:return n?"Ser.":"Service"}return e},c=[a.SERVICE,a.RECEPTION,a.PASS,a.ATTACK,a.BLOCK,a.DIG,a.ACE]},11:function(e,n,t){"use strict";var a=t(104);t.d(n,"GameEventType",(function(){return a.a})),t.d(n,"gameEvents",(function(){return a.b})),t.d(n,"readable",(function(){return a.c}));var r=t(61);t.d(n,"generateDemoGame",(function(){return r.e})),t.d(n,"getSetDuration",(function(){return r.f})),t.d(n,"getTotalDuration",(function(){return r.g}));var c=t(225);t.d(n,"getKey",(function(){return c.a}));t(226)},225:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var a=function(e){return e.name+":"+e.number}},226:function(e,n){},352:function(e,n,t){e.exports=t(612)},353:function(e,n,t){},61:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return o})),t.d(n,"d",(function(){return s})),t.d(n,"f",(function(){return u})),t.d(n,"g",(function(){return m})),t.d(n,"h",(function(){return p})),t.d(n,"c",(function(){return d})),t.d(n,"e",(function(){return f}));var a=t(41),r=t.n(a),c=t(11),l=t(613),i=99,o=0,s=function(e){return e.team1.name+" vs "+e.team2.name},u=function(e){return e.events.length<2?0:r()(e.events[e.events.length-1].at).diff(e.events[0].at,"minute")},m=function(e){return e.sets.reduce((function(e,n){return e+u(n)}),0)},p=function(e,n){return(e.team1.name+e.team2.name).localeCompare(n.team1.name+n.team2.name)},d=function(e){return e.sets.reduce((function(e,n){return e+n.events.length}),0)},f=function(){var e=[{name:"Jenia Grebennikov",number:2},{name:"Jean Patry",number:4},{name:"Benjamin Toniutti",number:6},{name:"K\xe9vin Tillie",number:7},{name:"Julien Lyneel",number:8},{name:"Earvin Ngapeth",number:9},{name:"K\xe9vin Le Roux",number:10},{name:"Antoine Brizard",number:11},{name:"Stephen Boyer",number:12},{name:"Nicolas Le Goff",number:14},{name:"Daryl Bultor",number:16},{name:"Tr\xe9vor Cl\xe9venot",number:17},{name:"Thibault Rossard",number:18},{name:"Barth\xe9l\xe9my Chinenyeze",number:21}],n={id:Object(l.a)(),at:r()().format(),team1:{name:"France",players:e},team2:{name:"Slov\xe9nie",players:[]},sets:[]},t=r()(),a=0;do{n.sets.push({team1Score:0,team2Score:0,events:[],at:t.format()});do{var i=E(1,10);do{var o=c.gameEvents[E(0,c.gameEvents.length-1)];n.sets[a].events.push({player:e[E(0,e.length-1)],type:o,positive:Math.random()<.5||o===c.GameEventType.ACE,at:t.format()}),t=t.add(E(5,15),"second"),i--}while(i>0);Math.random()<.5?(n.sets[a].team1Score++,n.sets[a].events.push({type:c.GameEventType.T1_SCORE_UPDATE,value:n.sets[a].team1Score,at:t.format()})):(n.sets[a].team2Score++,n.sets[a].events.push({type:c.GameEventType.T2_SCORE_UPDATE,value:n.sets[a].team2Score,at:t.format()}))}while(a<4&&n.sets[a].team1Score<25&&n.sets[a].team2Score<25||4===a&&n.sets[a].team1Score<15&&n.sets[a].team2Score<15);t=t.add(E(5,30),"second"),a++}while(a<5);return n},E=function(e,n){return+(Math.random()*(n-e)+e).toFixed(0)}},612:function(e,n,t){"use strict";t.r(n);t(353),t(354);var a=t(0),r=t.n(a),c=t(30),l=t.n(c),i=t(53),o=t(277),s=t(72),u=t(46),m=t(28),p=t(59),d=t(13),f=t(45),E=t(44),g=t(620),v=t(86),h=t(622),b=t(615),y=t(616),x=t(618),T=t(62),S=t(41),O=t.n(S),j=t(279),k=t(29);function C(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 80px;\n  background: linear-gradient(to right, ",", ",");\n\n  > span {\n    color: white;\n  }\n\n  .brand {\n    display: flex;\n    align-items: center;\n    font-family: 'Pacifico';\n    margin-left: 24px;\n    font-size: 30px;\n    cursor: pointer;\n\n    img {\n      width: 30px;\n      margin-left: 15px;\n    }\n  }\n\n  .actions svg {\n    color: white;\n    margin-right: 24px;\n    cursor: pointer;\n    transition: 0.3s ease-in-out;\n\n    &:hover {\n      color: ",";\n    }\n  }\n"]);return C=function(){return e},e}var A=function(){var e=Object(u.g)();return r.a.createElement(w,null,r.a.createElement("span",{className:"brand",onClick:function(){return e.push(En.HOME)}},"Goat keeper"),r.a.createElement("div",{className:"actions"},r.a.createElement(v.a,{placement:"left",title:"matchs pr\xe9c\xe9dents"},r.a.createElement(E.a,{size:"lg",icon:f.f,onClick:function(){return e.push(En.GAME_LIST)}})),r.a.createElement(v.a,{placement:"left",title:"nouveau match"},r.a.createElement(E.a,{size:"lg",icon:f.h,onClick:function(){return e.push(En.NEW_GAME)}})),r.a.createElement(s.b,{to:{pathname:"https://github.com/florianMo/goat-keeper"},target:"_blank"},r.a.createElement(E.a,{size:"lg",icon:j.a}))))},w=k.a.div(C(),d.b[9],d.b[6],d.b[8]);function N(){var e=Object(m.a)(["\n  display: flex;\n\n  span {\n    padding: 2px 4px;\n    margin-left: 4px;\n    border-radius: 4px;\n    text-align: center;\n    color: white;\n    font-weight: 700;\n    background-color: ",";\n\n    &.won {\n      background-color: ",";\n    }\n\n    &.lost {\n      background-color: ",";\n    }\n  }\n"]);return N=function(){return e},e}var G=function(e){return r.a.createElement(_,null,e.game.sets.map((function(e,n){return r.a.createElement("span",{key:n,className:e.team1Score>e.team2Score?"won":e.team1Score<e.team2Score?"lost":""},e.team1Score,"\u2022",e.team2Score)})))},_=k.a.div(N(),d.a[4],d.d[7],d.f[6]),D=t(61),z=t(130),M=t(76),I=t.n(M),P=t(104),R=Object(z.b)(),F=Object(p.a)(Object(p.a)({},R.getInitialState()),{},{total:0}),K=Object(z.c)({name:"games",initialState:F,reducers:{addGame:function(e,n){R.addOne(e,n.payload)},deleteGame:function(e,n){R.removeOne(e,n.payload)},addPlayer:function(e,n){var t=I.a.cloneDeep(n.payload.game);t.team1.players.push(n.payload.player),R.updateOne(e,{id:t.id,changes:t})},deletePlayer:function(e,n){var t=I.a.cloneDeep(n.payload.game),a=n.payload.playerKey.split(":"),r=a[0],c=parseInt(a[1],10);t.team1.players=t.team1.players.filter((function(e){return r!==e.name&&c!==e.number})),R.updateOne(e,{id:t.id,changes:t})},incrementTeam1:function(e,n){var t=I.a.cloneDeep(n.payload.game);t.sets[n.payload.set].team1Score++,t.sets[n.payload.set].events.push({type:P.a.T1_SCORE_UPDATE,value:t.sets[n.payload.set].team1Score,at:O()().format()}),R.updateOne(e,{id:t.id,changes:t})},incrementTeam2:function(e,n){var t=I.a.cloneDeep(n.payload.game);t.sets[n.payload.set].team2Score++,t.sets[n.payload.set].events.push({type:P.a.T2_SCORE_UPDATE,value:t.sets[n.payload.set].team2Score,at:O()().format()}),R.updateOne(e,{id:t.id,changes:t})},decrementTeam1:function(e,n){var t=I.a.cloneDeep(n.payload.game);t.sets[n.payload.set].team1Score--,t.sets[n.payload.set].events.push({type:P.a.T1_SCORE_UPDATE,value:t.sets[n.payload.set].team1Score,at:O()().format()}),R.updateOne(e,{id:t.id,changes:t})},decrementTeam2:function(e,n){var t=I.a.cloneDeep(n.payload.game);t.sets[n.payload.set].team2Score--,t.sets[n.payload.set].events.push({type:P.a.T2_SCORE_UPDATE,value:t.sets[n.payload.set].team2Score,at:O()().format()}),R.updateOne(e,{id:t.id,changes:t})},addSet:function(e,n){var t=I.a.cloneDeep(n.payload);t.sets.push({team1Score:0,team2Score:0,events:[],at:O()().format()}),R.updateOne(e,{id:t.id,changes:t})},addEvent:function(e,n){var t=I.a.cloneDeep(n.payload.game);t.sets[n.payload.set].events.push(n.payload.event),R.updateOne(e,{id:t.id,changes:t})},removeEvent:function(e,n){var t=I.a.cloneDeep(n.payload.game);t.sets[n.payload.set].events=t.sets[n.payload.set].events.filter((function(e){return!I.a.isEqual(e,n.payload.event)})),R.updateOne(e,{id:t.id,changes:t})}}}),B=K.actions,U=B.addEvent,q=B.addGame,L=B.addPlayer,W=B.addSet,H=B.decrementTeam1,V=B.decrementTeam2,J=B.deleteGame,Q=B.deletePlayer,Y=B.incrementTeam1,$=B.incrementTeam2,X=B.removeEvent;function Z(){var e=Object(m.a)(["\n  height: calc(100vh - 80px);\n  padding: 16px;\n\n  .actions {\n    svg {\n      cursor: pointer;\n      margin-right: 8px;\n      transition: 0.3s all;\n\n      &:hover {\n        color: ",";\n      }\n\n      &[data-icon='trash']:hover {\n        color: ",";\n      }\n    }\n  }\n\n  .fit-content {\n    width: 1%;\n    white-space: nowrap;\n  }\n\n  button {\n    margin-top: 16px;\n  }\n\n  .disabled {\n    opacity: 0.5;\n    cursor: not-allowed !important;\n  }\n"]);return Z=function(){return e},e}var ee=g.a.Title,ne=k.a.div(Z(),d.b[8],d.f[5]),te=t(11);function ae(){var e=Object(m.a)(["\n  height: calc(100vh - 80px);\n\n  button {\n    font-size: 24px;\n    margin-top: 24px;\n    font-weight: bold;\n    height: 100px;\n  }\n"]);return ae=function(){return e},e}var re=k.a.div(ae()),ce=t(81),le=t(619),ie=t(621),oe=t(617),se=t(623),ue=t(613);function me(){var e=Object(m.a)(["\n  height: calc(100vh - 80px);\n\n  .ant-space {\n    display: flex;\n    width: 100%;\n\n    .ant-space-item:nth-child(1) {\n      width: 50%;\n    }\n\n    svg.fa-trash {\n      margin-top: 42px;\n      margin-left: 8px;\n      cursor: pointer;\n\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n\n  .add-player svg.fa-plus {\n    margin-right: 8px;\n  }\n"]);return me=function(){return e},e}var pe=g.a.Title,de=function(){var e=Object(u.g)(),n=Object(i.b)(),t=le.a.useForm(),a=Object(ce.a)(t,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,null),r.a.createElement("div",{style:{padding:16}},r.a.createElement(fe,null,r.a.createElement(b.a,null,r.a.createElement(y.a,bn,r.a.createElement(pe,{level:2},"Nouveau match"),r.a.createElement(le.a,{form:a,layout:"vertical",onFinish:function(){var t=Object(ue.a)(),r=a.getFieldValue("players");r||(r=[{name:"Tous",number:0}]);var c={name:a.getFieldValue("team1"),players:r},l={name:a.getFieldValue("team2"),players:[]},i=[{team1Score:0,team2Score:0,events:[],at:O()().format()}];n(q({id:t,team1:c,team2:l,sets:i,at:O()().format()})),e.push(vn(En.GAME,[{parameter:"id",value:t}]))}},r.a.createElement(le.a.Item,{name:"team1",label:"Ton \xe9quipe",rules:[{required:!0,message:"requis"}],validateTrigger:["onChange","onBlur"]},r.a.createElement(ie.a,{size:"large"})),r.a.createElement(le.a.Item,{name:"team2",label:"L'autre \xe9quipe",rules:[{required:!0,message:"requis"}],validateTrigger:["onChange","onBlur"]},r.a.createElement(ie.a,{size:"large"})),r.a.createElement(le.a.List,{name:"players"},(function(e,n){var t=n.add,a=n.remove;return r.a.createElement("div",null,e.map((function(n){return r.a.createElement(oe.a,{key:n.key,align:"start"},r.a.createElement(le.a.Item,Object.assign({},n,{name:[n.name,"name"],fieldKey:[n.fieldKey,"name"],rules:[{required:!0,message:"requis"}],label:"Nom"}),r.a.createElement(ie.a,{placeholder:"nom du joueur",size:"large"})),r.a.createElement(le.a.Item,Object.assign({},n,{name:[n.name,"number"],fieldKey:[n.fieldKey,"number"],rules:[{required:!0,message:"requis"}],label:"Num\xe9ro"}),r.a.createElement(se.a,{min:0,step:"1",size:"large"})),e.length>1?r.a.createElement(E.a,{icon:f.l,size:"lg",className:"dynamic-delete-button",onClick:function(){return a(n.name)}}):null)})),r.a.createElement(le.a.Item,{className:"add-player"},r.a.createElement(T.a,{block:!0,type:"dashed",onClick:function(){t()},size:"large"},r.a.createElement(E.a,{icon:f.g})," Ajouter un joueur")))})),r.a.createElement(le.a.Item,null,r.a.createElement(T.a,{block:!0,type:"primary",htmlType:"submit",size:"large"},"OK"))))))))},fe=k.a.div(me(),d.f[6]),Ee=t(287);function ge(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100px;\n  padding: 16px;\n  margin: 0px 8px 8px 0px;\n  background-color: ",";\n  color: white;\n  border-radius: 4px;\n  cursor: pointer;\n\n  .label {\n    font-size: 24px;\n  }\n"]);return ge=function(){return e},e}var ve=function(e){return r.a.createElement(he,{positive:e.event.positive,type:e.event.type,onClick:function(){return e.onClick(e.event)}},r.a.createElement("div",{className:"label"},Object(te.readable)(e.event.type)))},he=k.a.div(ge(),(function(e){return e.positive?d.d[7]:d.f[6]}));function be(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100px;\n  padding: 16px;\n  margin: 0px 8px 8px 0px;\n  background-color: ",";\n  color: white;\n  border-radius: 4px;\n  cursor: pointer;\n\n  .label {\n    font-size: 24px;\n  }\n\n  .number {\n    font-size: 32px;\n  }\n"]);return be=function(){return e},e}var ye=function(e){return r.a.createElement(xe,{onClick:function(){return e.onClick(e.player)}},r.a.createElement("div",{className:"label"},e.player.name),r.a.createElement("div",{className:"number"},e.player.number))},xe=k.a.div(be(),d.b[6]);function Te(){var e=Object(m.a)(["\n  .topline {\n    width: 100%;\n    display: flex;\n    font-weight: bold;\n    justify-content: center;\n\n    span {\n      font-size: 20px;\n    }\n\n    button.link {\n      font-weight: 700;\n    }\n  }\n\n  .side,\n  .players {\n    padding: 8px;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n  }\n"]);return Te=function(){return e},e}var Se=function(e){var n=Object(a.useState)(void 0),t=Object(ce.a)(n,2),c=t[0],l=t[1],i=function(e){l(Object(p.a)(Object(p.a)({},e),{},{at:O()().format()}))},o=Object.values(te.GameEventType).filter((function(e){return![te.GameEventType.T1_SCORE_UPDATE,te.GameEventType.T2_SCORE_UPDATE].includes(e)})),s=Object.values(te.GameEventType).filter((function(e){return![te.GameEventType.T1_SCORE_UPDATE,te.GameEventType.T2_SCORE_UPDATE,te.GameEventType.ACE].includes(e)}));return r.a.createElement(Oe,null,!c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"topline"},r.a.createElement("span",null,"Que s'est-il pass\xe9 ?")),r.a.createElement("div",{className:"side success"},o.map((function(e){return r.a.createElement(ve,{key:e,event:{type:e,positive:!0},onClick:i})}))),r.a.createElement("div",{className:"side failure"},s.map((function(e){return r.a.createElement(ve,{key:e,event:{type:e,positive:!1},onClick:i})})))),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"topline"},r.a.createElement("span",null,"Qui a ",c.positive?"brillamment r\xe9ussi":"(encore) totalement foir\xe9"," son geste (",r.a.createElement("button",{className:"link",onClick:function(){return l(void 0)}},"annuler"),") ?")),r.a.createElement("div",{className:"players"},e.team.map((function(n){return r.a.createElement(ye,{key:n.name+":"+n.number,player:n,onClick:function(n){return function(n){e.onAddAction(Object(p.a)(Object(p.a)({},c),{},{player:n})),l(void 0)}(n)}})})))))},Oe=k.a.div(Te());function je(){var e=Object(m.a)(["\n  margin-top: 16px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  h4 {\n    color: ",";\n  }\n\n  .eventBag {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    flex-wrap: wrap;\n    align-items: center;\n\n    .event {\n      padding: 6px;\n      margin-bottom: 4px;\n      width: fit-content;\n      border-radius: 4px;\n      background-color: ",";\n      color: white;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n\n      &.negative {\n        background-color: ",";\n      }\n\n      svg[data-icon='times'] {\n        margin-left: 12px;\n        cursor: pointer;\n      }\n    }\n  }\n"]);return je=function(){return e},e}var ke,Ce=g.a.Title,Ae=function(e){var n=e.events.filter((function(e){return te.gameEvents.includes(e.type)})),t=n.slice(Math.max(n.length-10,1)).reverse();return r.a.createElement(we,null,r.a.createElement(Ce,{level:4},"10 derniers \xe9v\xe8nements"),r.a.createElement("div",{className:"eventBag"},t.map((function(n,t){return r.a.createElement("div",{className:n.positive?"event positive":"event negative",key:t},r.a.createElement("div",{className:"text"},r.a.createElement("span",{className:"player"},n.player.name," (",O()(n.at).format(yn),")"),"\xa0",r.a.createElement(E.a,{icon:f.a}),"\xa0",r.a.createElement("span",{className:"type"},Object(te.readable)(n.type))),r.a.createElement(E.a,{icon:f.k,onClick:function(){return e.onDeleteEvent(n)}}))}))))},we=k.a.div(je(),d.c[5],d.d[7],d.f[6]);function Ne(){var e=Object(m.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n\n  .side {\n    display: flex;\n    align-items: center;\n    user-select: none;\n\n    svg {\n      transition: 0.3s all;\n      color: ",";\n\n      &:hover {\n        color: ",";\n      }\n    }\n\n    .score {\n      width: 80px;\n      text-align: center;\n      font-size: 44px;\n      font-weight: 700;\n      padding: 4px;\n      background-color: ",";\n      color: white;\n\n      &.t1.leaderT1,\n      &.t2.leaderT2 {\n        background-color: ",";\n      }\n\n      &.t1.leaderT2,\n      &.t2.leaderT1 {\n        background-color: ",";\n      }\n    }\n\n    .score-controls {\n      width: 40px;\n      padding: 4px;\n      display: flex;\n      flex-direction: column;\n      background-color: ",";\n\n      svg {\n        color: white;\n        margin: 8px;\n        cursor: pointer;\n        transition: 0.3s all;\n\n        &:hover {\n          color: ",";\n        }\n      }\n    }\n\n    &.left {\n      .score-controls {\n        border-top-left-radius: 4px;\n        border-bottom-left-radius: 4px;\n      }\n    }\n\n    &.right {\n      .score-controls {\n        border-top-right-radius: 4px;\n        border-bottom-right-radius: 4px;\n      }\n    }\n  }\n"]);return Ne=function(){return e},e}!function(e){e.EQ="EQ",e.T1="T1",e.T2="T2"}(ke||(ke={}));var Ge=function(e){var n=e.t1Score>e.t2Score?ke.T1:e.t1Score<e.t2Score?ke.T2:ke.EQ;return r.a.createElement(_e,null,r.a.createElement("div",{className:"side left"},r.a.createElement("div",{className:"score-controls"},r.a.createElement(E.a,{icon:f.d,size:"lg",onClick:e.onIncrementT1}),r.a.createElement(E.a,{icon:f.c,size:"lg",onClick:e.onDecrementT1})),r.a.createElement("span",{className:"score t1 leader".concat(n)},e.t1Score)),r.a.createElement("div",{className:"side right"},r.a.createElement("span",{className:"score t2 leader".concat(n)},e.t2Score),r.a.createElement("div",{className:"score-controls"},r.a.createElement(E.a,{icon:f.d,size:"lg",onClick:e.onIncrementT2}),r.a.createElement(E.a,{icon:f.c,size:"lg",onClick:e.onDecrementT2}))))},_e=k.a.div(Ne(),d.b[8],d.b[6],d.a[4],d.d[7],d.f[6],d.b[8],d.b[7]),De=t(172);function ze(){var e=Object(m.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  margin: 12px 0px;\n\n  .ant-radio-button-wrapper {\n    width: 48px;\n    padding: 0px 2px;\n    text-align: center;\n  }\n\n  button {\n    margin-left: 8px;\n  }\n"]);return ze=function(){return e},e}var Me=function(e){return r.a.createElement(Ie,null,r.a.createElement(De.default.Group,{onChange:function(n){return e.onSetChanged(n.target.value)},value:e.selectedSet,buttonStyle:"solid",size:"large"},e.game.sets.map((function(e,n){return r.a.createElement(De.default.Button,{key:n,value:n},e.team1Score,"\u2022",e.team2Score)}))),e.game.sets.length<5&&r.a.createElement(T.a,{type:"primary",onClick:e.onAddSet,size:"large"},r.a.createElement(E.a,{icon:f.g})))},Ie=k.a.div(ze());function Pe(){var e=Object(m.a)(["\n  height: calc(100vh - 80px);\n  padding: 16px;\n\n  .date {\n    display: flex;\n    width: 100%;\n    justify-content: center;\n    font-size: 24px;\n  }\n\n  .setSelector {\n    display: flex;\n    width: 100%;\n    justify-content: center;\n    margin: 12px 0px;\n  }\n\n  .teamNames {\n    display: flex;\n    width: 100%;\n\n    span {\n      font-size: 40px;\n      flex: 0 0 50%;\n      padding: 0 8px;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      color: ",";\n\n      &:nth-child(1) {\n        text-align: right;\n      }\n    }\n  }\n\n  .header {\n    display: flex;\n    width: 100%;\n    justify-content: center;\n  }\n\n  .actions .links {\n    margin: auto;\n    display: flex;\n    justify-content: center;\n    margin-top: 8px;\n    margin-bottom: 8px;\n\n    button {\n      margin: 4px;\n    }\n  }\n"]);return Pe=function(){return e},e}var Re=k.a.div(Pe(),d.c[5]),Fe=t(323),Ke=t(57),Be=function(e){var n=e.playerStats.key.split(":")[0],t=te.gameEvents.filter((function(e){return e!==te.GameEventType.ACE})).map((function(n){return{event:Object(te.readable)(n,!0),value:(t=e.playerStats[n],+(100*t.filter((function(e){return e.positive})).length/t.length).toFixed(0)||0)};var t}));return r.a.createElement(Ke.h,{outerRadius:90,width:280,height:300,data:t,margin:{top:8,right:8,bottom:8,left:8}},r.a.createElement("text",{fontSize:"18",x:"50%",y:"20",dominantBaseline:"middle",textAnchor:"middle"},n),r.a.createElement(Ke.e,null),r.a.createElement(Ke.d,{dataKey:"event"}),r.a.createElement(Ke.f,{angle:30,domain:[0,100],tick:!1}),r.a.createElement(Ke.g,{name:n,dataKey:"value",stroke:d.b[7],fill:d.b[6],fillOpacity:.6}),r.a.createElement(Ke.j,{formatter:function(e,n,t){return e+"%"}}))},Ue=t(141);function qe(){var e=Object(m.a)(["\n  width: 335px;\n"]);return qe=function(){return e},e}var Le=Ue.a.Option,We=function(e){return r.a.createElement(He,null,r.a.createElement(Ue.a,{mode:"multiple",size:"large",onChange:function(n){return e.onSetsChanged(n)},value:e.selectedSets},e.game.sets.map((function(e,n){return r.a.createElement(Le,{key:n,value:"Set "+(n+1)},"Set ",n+1)}))))},He=k.a.div(qe()),Ve=function(e){var n=e.set.events.filter((function(e){return e.type===te.GameEventType.T1_SCORE_UPDATE})).map((function(e){return{time:O()(e.at).valueOf(),value:e.value}})),t=e.set.events.filter((function(e){return[te.GameEventType.T1_SCORE_UPDATE,te.GameEventType.T2_SCORE_UPDATE].includes(e.type)})),a=[],c=0,l=0;t.forEach((function(e){c=e.type===te.GameEventType.T1_SCORE_UPDATE?e.value:c,l=e.type===te.GameEventType.T2_SCORE_UPDATE?e.value:l,a.push({time:O()(e.at).valueOf(),t1Score:c,t2Score:l})}));var i={type:"stepAfter",strokeWidth:3,activeDot:{r:4},dot:!1},o=e.isFifthSet?[0,15]:[0,25],s=e.isFifthSet?[0,5,10,15]:[0,5,10,15,20,25];return r.a.createElement(Ke.i,{width:"100%",height:240},r.a.createElement(Ke.c,{data:a,margin:{top:0,right:0,left:0,bottom:0}},r.a.createElement(Ke.a,{strokeDasharray:"3 3"}),r.a.createElement(Ke.k,{dataKey:"time",name:"Temps",domain:[n[0].time,n[n.length-1].time],tickFormatter:function(e){return O()(e).format(yn)},type:"number"}),r.a.createElement(Ke.l,{domain:o,ticks:s,width:32}),r.a.createElement(Ke.j,{labelFormatter:function(e){return O()(e).format(yn)}}),r.a.createElement(Ke.b,Object.assign({},i,{dataKey:"t1Score",name:e.game.team1.name,stroke:d.b[9]})),r.a.createElement(Ke.b,Object.assign({},i,{dataKey:"t2Score",name:e.game.team2.name,stroke:d.b[6]}))))};function Je(){var e=Object(m.a)(["\n  display: flex;\n  flex-wrap: wrap;\n\n  div {\n    width: 140px;\n    height: 160px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 8px 24px;\n    margin: 4px;\n\n    .eventType {\n      font-size: 24px;\n    }\n\n    .value {\n      font-size: 48px;\n    }\n\n    .numbers {\n      opacity: 0.8;\n    }\n\n    &.xlow {\n      background-color: ",";\n    }\n    &.low {\n      background-color: ",";\n    }\n    &.high {\n      background-color: ",";\n    }\n    &.xhigh {\n      background-color: ",";\n    }\n\n    &.points {\n      background-color: ",";\n\n      .value {\n        font-size: 36px;\n      }\n    }\n  }\n"]);return Je=function(){return e},e}var Qe=function(e){var n=function(n){var t=e.events.filter((function(e){return e.type===n}));return+(100*t.filter((function(e){return e.positive})).length/t.length).toFixed(0)||0},t={};te.gameEvents.filter((function(e){return e!==te.GameEventType.ACE})).forEach((function(e){t[e]=n(e)}));var a=e.sets.reduce((function(e,n){return e+n.team1Score}),0),c=e.sets.reduce((function(e,n){return e+n.team2Score}),0);return r.a.createElement(Ye,null,r.a.createElement("div",{className:"points"},r.a.createElement("span",{className:"eventType"},"Points"),r.a.createElement("span",{className:"value"},a,"/",c)),te.gameEvents.map((function(a){return r.a.createElement("div",{key:a,className:t[a]<25?"xlow":t[a]<50?"low":t[a]<75?"high":"xhigh"},r.a.createElement("span",{className:"eventType"},Object(te.readable)(a)),r.a.createElement("span",{className:"value"},a!==te.GameEventType.ACE?n(a)+"%":e.events.filter((function(e){return e.type===te.GameEventType.ACE})).length),a!==te.GameEventType.ACE&&r.a.createElement("span",{className:"numbers"},e.events.filter((function(e){return e.type===a&&e.positive})).length,"/",e.events.filter((function(e){return e.type===a})).length))})))},Ye=k.a.div(Je(),d.f[4],d.e[4],d.g[4],d.d[4],d.b[6]);function $e(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  svg {\n    color: white;\n    margin-left: 4px;\n  }\n"]);return $e=function(){return e},e}var Xe=function(e){return r.a.createElement(Ze,null,r.a.createElement("div",null,e.type!==te.GameEventType.ACE?e.percentage+"% ("+e.events.filter((function(e){return e.positive})).length+"/"+e.events.length+")":e.events.length),e.percentage>90&&e.type!==te.GameEventType.ACE&&r.a.createElement(E.a,{icon:f.j}))},Ze=k.a.div($e());function en(){var e=Object(m.a)(["\n  td,\n  th {\n    padding: 4px 4px !important;\n  }\n\n  .ant-table-thead > tr > th,\n  .ant-table-tbody > tr > td:nth-child(1) {\n    font-weight: 700;\n  }\n\n  .xlow {\n    border-left: "," ",";\n  }\n  .low {\n    border-left: "," ",";\n  }\n  .high {\n    border-left: "," ",";\n  }\n  .xhigh {\n    border-left: "," ",";\n  }\n\n  .nobg {\n    border-left: none;\n  }\n\n  .fit-content {\n    width: 1%;\n    white-space: nowrap;\n  }\n"]);return en=function(){return e},e}var nn=function(e){var n=[{title:"#",className:"fit-content",render:function(e){return e.key.split(":")[1]},sorter:function(e,n){return parseInt(e.key.split(":")[1],10)>parseInt(n.key.split(":")[1],10)?1:-1}},{title:"Nom",render:function(e){return e.key.split(":")[0]},sorter:function(e,n){return e.key.split(":")[0].localeCompare(n.key.split(":")[0])}}],t=function(e){return+(100*e.filter((function(e){return e.positive})).length/e.length).toFixed(0)||0},a=function(e){var n=t(e);return 0===e.length?"nodata":n<25?"xlow":n<50?"low":n<75?"high":"xhigh"};return te.gameEvents.forEach((function(e){n.push({title:Object(te.readable)(e),className:"fit-content",sorter:function(n,a){return e!==te.GameEventType.ACE?t(n[e])>t(a[e])?1:-1:n[e].length>a[e].length?-1:1},render:function(n){return{props:{className:a(n[e])+(e===te.GameEventType.ACE?" nobg":"")},children:r.a.createElement(Xe,{events:n[e],type:e,percentage:t(n[e])})}}})})),r.a.createElement(on,null,r.a.createElement(x.a,{bordered:!0,dataSource:e.playerStats,columns:n,pagination:!1,size:"small"}))},tn="8px solid ",an=d.f[4],rn=d.e[4],cn=d.g[4],ln=d.d[4],on=k.a.div(en(),tn,an,tn,rn,tn,cn,tn,ln);function sn(){var e=Object(m.a)(["\n  height: calc(100vh - 80px);\n  padding: 16px;\n\n  .setSelector {\n    display: flex;\n    width: 100%;\n    justify-content: space-between;\n  }\n\n  .chartCol {\n    padding: 16px;\n  }\n\n  .radarWrapper {\n    margin-top: 12px;\n    display: flex;\n    flex-wrap: wrap;\n  }\n\n  h4 {\n    margin: 8px 0px;\n  }\n"]);return sn=function(){return e},e}var un=g.a.Title,mn=k.a.div(sn());function pn(){var e=Object(m.a)(["\n  button.link {\n    margin-bottom: 16px;\n  }\n\n  form {\n    margin-top: 24px;\n    margin-bottom: 24px;\n  }\n\n  .fit-content {\n    width: 1%;\n    white-space: nowrap;\n  }\n\n  .actions {\n    svg {\n      transition: 0.3s all;\n      cursor: pointer;\n\n      &:hover {\n        color: ",";\n      }\n\n      &[data-icon='trash']:hover {\n      color: ",";\n    }\n  }\n\n  .button .ant-form-item-control-input-content {\n    text-align: right;\n  }\n"]);return pn=function(){return e},e}var dn=g.a.Title,fn=k.a.div(pn(),d.b[8],d.f[5]),En={HOME:"/home",NEW_GAME:"/new-game",GAME_LIST:"/game-list",GAME:"/game/:id",GAME_STATS:"/game/:id/stats",TEAM_MANAGEMENT:"/game/:id/team",DEFAULT:"/:anything_else"},gn=[{path:En.HOME,exact:!0,component:function(){var e=Object(u.g)(),n=Object(i.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,null),r.a.createElement(re,null,r.a.createElement(b.a,null,r.a.createElement(y.a,{xs:{span:20,offset:2},lg:{span:12,offset:6}},r.a.createElement(T.a,{block:!0,size:"large",type:"primary",onClick:function(){return e.push(En.NEW_GAME)}},"Nouveau match"),r.a.createElement(T.a,{block:!0,size:"large",type:"primary",onClick:function(){return e.push(En.GAME_LIST)}},"Matchs pr\xe9c\xe9dents"),r.a.createElement(T.a,{block:!0,size:"large",onClick:function(){var t=Object(te.generateDemoGame)();n(q(t)),e.push(vn(En.GAME_STATS,[{parameter:"id",value:t.id}]))}},"G\xe9n\xe9rer un match d\xe9mo")))))}},{path:En.NEW_GAME,exact:!0,component:de},{path:En.GAME,exact:!0,component:function(){var e=Object(u.h)().id,n=Object(u.g)(),t=Object(i.c)((function(n){return n.games.entities[e]})),c=Object(i.b)(),l=Object(a.useState)(t?t.sets.length-1:0),o=Object(ce.a)(l,2),s=o[0],m=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,null),t&&r.a.createElement(Re,null,r.a.createElement(b.a,null,r.a.createElement(y.a,{className:"date"},O()(t.at).format(xn)),r.a.createElement(y.a,{className:"setSelector"},r.a.createElement(Me,{game:t,selectedSet:s,onSetChanged:function(e){return m(e)},onAddSet:function(){return c(W(t))}})),r.a.createElement(y.a,{className:"teamNames"},r.a.createElement("span",null,t.team1.name),r.a.createElement("span",null,t.team2.name)),r.a.createElement(y.a,{className:"header"},r.a.createElement(Ge,{t1Score:t.sets[s].team1Score,t2Score:t.sets[s].team2Score,onIncrementT1:function(){t.sets[s].team1Score<D.a&&c(Y({game:t,set:s}))},onDecrementT1:function(){t.sets[s].team1Score>D.b&&c(H({game:t,set:s}))},onIncrementT2:function(){t.sets[s].team2Score<D.a&&c($({game:t,set:s}))},onDecrementT2:function(){t.sets[s].team2Score>D.b&&c(V({game:t,set:s}))}})),r.a.createElement(y.a,{className:"actions",xs:{span:22,offset:1},md:{span:18,offset:3},lg:{span:16,offset:4}},r.a.createElement("div",{className:"links"},r.a.createElement("button",{className:"link team",onClick:function(){return n.push(vn(En.TEAM_MANAGEMENT,[{parameter:"id",value:t.id}]))}},"G\xe9rer mon \xe9quipe"),r.a.createElement("button",{className:"link stats",onClick:function(){return n.push(vn(En.GAME_STATS,[{parameter:"id",value:t.id}]))}},"Statistiques")),r.a.createElement(Se,{team:t.team1.players,onAddAction:function(e){c(U({game:t,set:s,event:e})),Ee.a.success("Ev\xe9nement ajout\xe9")}}),r.a.createElement(Ae,{onDeleteEvent:function(e){c(X({game:t,set:s,event:e})),Ee.a.success("Ev\xe9nement supprim\xe9")},events:t.sets[s].events})))))}},{path:En.GAME_LIST,exact:!0,component:function(){var e=Object(u.g)(),n=Object(i.b)(),t=Object(i.c)((function(e){return e.games.entities})),a=[{title:"Date",render:function(e){return O()(e.at).format(xn)},className:"fit-content",sorter:function(e,n){return O()(e.at).isBefore(n.at)?-1:1}},{title:"Match",render:D.d,sorter:D.h},{title:"R\xe9sultat",render:function(e){return r.a.createElement(G,{game:e})}},{title:"Evts",sorter:function(e,n){return Object(D.c)(e)>Object(D.c)(n)?-1:1},render:D.c},{key:"actions",className:"actions fit-content",render:function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{title:"editer le score et les stats"},r.a.createElement(E.a,{icon:f.i,size:"lg",onClick:function(){return e.push(vn(En.GAME,[{parameter:"id",value:t.id}]))}})),r.a.createElement(v.a,{title:"visualiser les donn\xe9es du match"},r.a.createElement(E.a,{icon:f.b,size:"lg",onClick:function(){return e.push(vn(En.GAME_STATS,[{parameter:"id",value:t.id}]))}})),r.a.createElement(v.a,{title:"exporter les donn\xe9es du match"},r.a.createElement(E.a,{className:"disabled",icon:f.e,size:"lg"})),r.a.createElement(v.a,{title:"supprimer le match"},r.a.createElement(h.a,{title:"s\xfbr ?",onConfirm:function(){return n(J(t.id))},okText:"Oui",cancelText:"Non en fait"},r.a.createElement(E.a,{icon:f.l,size:"lg"}))))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,null),r.a.createElement(ne,null,r.a.createElement(b.a,null,r.a.createElement(y.a,bn,r.a.createElement(ee,{level:2},"Matchs enregistr\xe9s sur ce navigateur"),r.a.createElement(x.a,{size:"small",bordered:!0,dataSource:Object.values(t).map((function(e){return Object(p.a)(Object(p.a)({},e),{},{key:e.id})})),columns:a,pagination:!1})),r.a.createElement(y.a,Object.assign({className:"button"},bn),r.a.createElement(T.a,{size:"large",type:"primary",block:!0,onClick:function(){return e.push(En.NEW_GAME)}},"Nouveau match")))))}},{path:En.GAME_STATS,exact:!0,component:function(){var e=Object(u.h)().id,n=Object(a.useState)([]),t=Object(ce.a)(n,2),c=t[0],l=t[1],o=Object(i.c)((function(n){return n.games.entities[e]}));Object(a.useEffect)((function(){l(Object.keys(o.sets).map((function(e){return"Set "+(parseInt(e,10)+1)})))}),[o]);var s=function(){return Object(Fe.a)(o.sets.filter((function(e,n){return c.includes("Set "+(n+1))})).map((function(e){return e.events.filter((function(e){return te.gameEvents.includes(e.type)}))}))).flat()},m=function(){return o.team1.players.map((function(e){var n={key:Object(te.getKey)(e)};return te.gameEvents.forEach((function(t){n[t]=s().filter((function(n){return n.player.name===e.name&&n.player.number===e.number&&n.type===t}))})),n}))},p=function(){return 5===c.length?"(match complet)":"(sets "+c.map((function(e){return e[4]})).join(",")+")"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,null),o&&r.a.createElement(mn,null,r.a.createElement(b.a,null,r.a.createElement(y.a,{className:"setSelector"},r.a.createElement(un,{level:2},o.team1.name," vs ",o.team2.name,", le ",O()(o.at).format(xn)," (",Object(te.getTotalDuration)(o)+" minutes",")"),r.a.createElement(We,{game:o,selectedSets:c,onSetsChanged:function(e){var n=0===e.length?Object.keys(o.sets).map((function(e){return"Set "+(parseInt(e,10)+1)})):e;l(n)}}))),r.a.createElement(b.a,{gutter:16},r.a.createElement(y.a,{xs:24,lg:8},o.sets.map((function(e,n){return r.a.createElement(r.a.Fragment,{key:n},r.a.createElement(un,{level:4},"Set ",n+1," : ",e.team1Score,"\u2022",e.team2Score," (",Object(te.getSetDuration)(e)+" minutes",")"),r.a.createElement(Ve,{game:o,set:e,isFifthSet:4===n}))}))),r.a.createElement(y.a,{xs:24,lg:16},r.a.createElement(un,{level:4},"Stats \xe9quipe ",p()),r.a.createElement(Qe,{events:s(),sets:o.sets}),r.a.createElement(un,{level:4},"Stats joueurs ",p()),r.a.createElement(nn,{playerStats:m()}),r.a.createElement("div",{className:"radarWrapper"},o.team1.players.map((function(e){return r.a.createElement(Be,{key:Object(te.getKey)(e),playerStats:m().find((function(n){return n.key===Object(te.getKey)(e)}))})})))))))}},{path:En.TEAM_MANAGEMENT,exact:!0,component:function(){var e=Object(u.h)().id,n=Object(i.b)(),t=Object(u.g)(),a=Object(i.c)((function(n){return n.games.entities[e]})),c=le.a.useForm(),l=Object(ce.a)(c,1)[0],o=[{title:"Nom",dataIndex:"name",sorter:function(e,n){return e.name.localeCompare(n.name)}},{title:"Num\xe9ro",dataIndex:"number",sorter:function(e,n){return e.number-n.number}},{key:"actions",className:"actions fit-content",render:function(e){return r.a.createElement(v.a,{key:"delete",title:"supprimer cette personne"},r.a.createElement(h.a,{title:"s\xfbr ?",onConfirm:function(){return n(Q({game:a,playerKey:e.key}))},okText:"Oui",cancelText:"Non en fait"},r.a.createElement(E.a,{icon:f.l})))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,null),r.a.createElement("div",{style:{padding:16}},a&&r.a.createElement(fn,null,r.a.createElement(b.a,{gutter:16},r.a.createElement(y.a,bn,r.a.createElement(dn,{level:2},"G\xe9rer mon \xe9quipe"),r.a.createElement("button",{className:"link",onClick:function(){return t.push(vn(En.GAME,[{parameter:"id",value:a.id}]))}},"Retour au match"),r.a.createElement(x.a,{size:"small",bordered:!0,dataSource:a.team1.players.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{key:e.name+":"+e.number})})),columns:o,pagination:!1}),r.a.createElement(le.a,{form:l,layout:"horizontal",onFinish:function(e){a.team1.players.some((function(n){return n.name===e.name&&n.number===e.number}))?Ee.a.error("Cette personne existe d\xe9j\xe0"):(n(L({game:a,player:e})),l.resetFields())}},r.a.createElement(le.a.Item,{name:"name",label:"Nom",rules:[{required:!0,message:"requis"}],validateTrigger:["onChange","onBlur"]},r.a.createElement(ie.a,{placeholder:"nouveau joueur"})),r.a.createElement(le.a.Item,{name:"number",label:"Num\xe9ro",rules:[{required:!0,message:"requis"}],validateTrigger:["onChange","onBlur"]},r.a.createElement(se.a,null)),r.a.createElement(le.a.Item,{className:"button"},r.a.createElement(T.a,{type:"primary",htmlType:"submit"},"OK"))))))))}},{path:En.DEFAULT,redirectTo:En.HOME},{path:"",exact:!0,redirectTo:En.HOME}],vn=function(e,n){return n.map((function(n){return e=e.replace(":"+n.parameter,n.value.toString()),null})),e},hn=function(e){return e.redirectTo?r.a.createElement(u.b,{path:e.path,render:function(){return r.a.createElement(u.a,{to:e.redirectTo})}}):r.a.createElement(u.b,{path:e.path,render:function(n){return r.a.createElement(e.component,Object.assign({},n,{routes:e.routes}))}})},bn={xs:{span:24},md:{span:18},lg:{span:14}},yn="HH[h]mm",xn="DD/MM/YYYY",Tn=function(){return r.a.createElement(s.a,{basename:"/goat-keeper"},r.a.createElement(u.d,null,gn.map((function(e,n){return r.a.createElement(hn,Object.assign({key:n},e))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Sn=t(52),On=t(92),jn=t(318),kn=t.n(jn),Cn=t(319),An=t.n(Cn),wn=Object(Sn.c)({games:K.reducer}),Nn={key:"gkState",storage:An.a,whitelist:["games"],stateReconciler:kn.a},Gn=Object(On.g)(Nn,wn),_n=Object(z.a)({reducer:Gn,middleware:Object(z.d)({serializableCheck:{ignoredActions:[On.a,On.f,On.b,On.c,On.d,On.e]}})}),Dn=Object(On.h)(_n);l.a.render(r.a.createElement(i.a,{store:_n},r.a.createElement(o.PersistGate,{loading:null,persistor:Dn},r.a.createElement(Tn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[352,1,2]]]);
//# sourceMappingURL=main.d996d0b4.chunk.js.map