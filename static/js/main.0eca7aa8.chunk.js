(this["webpackJsonpgoat-keeper"]=this["webpackJsonpgoat-keeper"]||[]).push([[0],{104:function(e,n,t){"use strict";var a;t.d(n,"a",(function(){return a})),t.d(n,"c",(function(){return r})),t.d(n,"b",(function(){return c})),function(e){e.SERVICE="SERVICE",e.RECEPTION="RECEPTION",e.PASS="PASS",e.ATTACK="ATTACK",e.BLOCK="BLOCK",e.DIG="DIG",e.ACE="ACE",e.T1_SCORE_UPDATE="T1_SCORE_UPDATE",e.T2_SCORE_UPDATE="T2_SCORE_UPDATE"}(a||(a={}));var r=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case a.ACE:return"Ace";case a.ATTACK:return n?"Att.":"Attaque";case a.BLOCK:return n?"Bl.":"Block";case a.DIG:return n?"D\xe9f.":"D\xe9fense";case a.PASS:return n?"Pa.":"Passe";case a.RECEPTION:return n?"R\xe9c.":"R\xe9ception";case a.SERVICE:return n?"Ser.":"Service"}return e},c=[a.SERVICE,a.RECEPTION,a.PASS,a.ATTACK,a.BLOCK,a.DIG,a.ACE]},13:function(e,n,t){"use strict";var a=t(104);t.d(n,"GameEventType",(function(){return a.a})),t.d(n,"gameEvents",(function(){return a.b})),t.d(n,"readable",(function(){return a.c}));var r=t(61);t.d(n,"generateDemoGame",(function(){return r.e})),t.d(n,"getSetDuration",(function(){return r.f})),t.d(n,"getTotalDuration",(function(){return r.g}));var c=t(224);t.d(n,"getKey",(function(){return c.a}));t(225)},224:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var a=function(e){return e.name+":"+e.number}},225:function(e,n){},351:function(e,n,t){e.exports=t(611)},352:function(e,n,t){},61:function(e,n,t){"use strict";t.d(n,"a",(function(){return o})),t.d(n,"b",(function(){return i})),t.d(n,"d",(function(){return s})),t.d(n,"f",(function(){return u})),t.d(n,"g",(function(){return m})),t.d(n,"h",(function(){return p})),t.d(n,"c",(function(){return d})),t.d(n,"e",(function(){return f}));var a=t(43),r=t.n(a),c=t(13),l=t(612),o=99,i=0,s=function(e){return e.team1.name+" vs "+e.team2.name},u=function(e){return e.events.length<2?0:r()(e.events[e.events.length-1].at).diff(e.events[0].at,"minute")},m=function(e){return e.sets.reduce((function(e,n){return e+u(n)}),0)},p=function(e,n){return(e.team1.name+e.team2.name).localeCompare(n.team1.name+n.team2.name)},d=function(e){return e.sets.reduce((function(e,n){return e+n.events.length}),0)},f=function(){var e=[{name:"Jenia Grebennikov",number:2},{name:"Jean Patry",number:4},{name:"Benjamin Toniutti",number:6},{name:"K\xe9vin Tillie",number:7},{name:"Julien Lyneel",number:8},{name:"Earvin Ngapeth",number:9},{name:"K\xe9vin Le Roux",number:10},{name:"Antoine Brizard",number:11},{name:"Stephen Boyer",number:12},{name:"Nicolas Le Goff",number:14},{name:"Daryl Bultor",number:16},{name:"Tr\xe9vor Cl\xe9venot",number:17},{name:"Thibault Rossard",number:18},{name:"Barth\xe9l\xe9my Chinenyeze",number:21}],n={id:Object(l.a)(),at:r()().format(),team1:{name:"France",players:e},team2:{name:"Slov\xe9nie",players:[]},sets:[]},t=r()(),a=0;do{n.sets.push({team1Score:0,team2Score:0,events:[],at:t.format()});do{var o=E(1,10);do{var i=c.gameEvents[E(0,c.gameEvents.length-1)];n.sets[a].events.push({player:e[E(0,e.length-1)],type:i,positive:Math.random()<.5||i===c.GameEventType.ACE,at:t.format()}),t=t.add(E(5,15),"second"),o--}while(o>0);Math.random()<.5?(n.sets[a].team1Score++,n.sets[a].events.push({type:c.GameEventType.T1_SCORE_UPDATE,value:n.sets[a].team1Score,at:t.format()})):(n.sets[a].team2Score++,n.sets[a].events.push({type:c.GameEventType.T2_SCORE_UPDATE,value:n.sets[a].team2Score,at:t.format()}))}while(a<4&&n.sets[a].team1Score<25&&n.sets[a].team2Score<25||4===a&&n.sets[a].team1Score<15&&n.sets[a].team2Score<15);t=t.add(E(5,30),"second"),a++}while(a<5);return n},E=function(e,n){return+(Math.random()*(n-e)+e).toFixed(0)}},611:function(e,n,t){"use strict";t.r(n);t(352),t(353);var a=t(0),r=t.n(a),c=t(28),l=t.n(c),o=t(53),i=t(276),s=t(72),u=t(46),m=t(35),p=t(59),d=t(11),f=t(45),E=t(44),g=t(619),v=t(83),h=t(621),b=t(614),y=t(615),x=t(617),T=t(62),S=t(43),O=t.n(S),k=t(278),j=t(36);function A(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 80px;\n  background: linear-gradient(to right, ",", ",");\n  margin-bottom: 16px;\n\n  > span {\n    color: white;\n  }\n\n  .brand {\n    display: flex;\n    align-items: center;\n    font-family: 'Pacifico';\n    margin-left: 24px;\n    font-size: 30px;\n    cursor: pointer;\n\n    img {\n      width: 30px;\n      margin-left: 15px;\n    }\n  }\n\n  .actions svg {\n    color: white;\n    margin-right: 24px;\n    cursor: pointer;\n    transition: 0.3s ease-in-out;\n\n    &:hover {\n      color: ",";\n    }\n  }\n"]);return A=function(){return e},e}var C=function(){var e=Object(u.g)();return r.a.createElement(w,null,r.a.createElement("span",{className:"brand",onClick:function(){return e.push(rn.HOME)}},"Goat keeper"),r.a.createElement("div",{className:"actions"},r.a.createElement(v.a,{placement:"left",title:"matchs pr\xe9c\xe9dents"},r.a.createElement(E.a,{size:"lg",icon:f.e,onClick:function(){return e.push(rn.GAME_LIST)}})),r.a.createElement(v.a,{placement:"left",title:"nouveau match"},r.a.createElement(E.a,{size:"lg",icon:f.g,onClick:function(){return e.push(rn.NEW_GAME)}})),r.a.createElement(s.b,{to:{pathname:"https://github.com/florianMo/goat-keeper"},target:"_blank"},r.a.createElement(E.a,{size:"lg",icon:k.a}))))},w=j.a.div(A(),d.b[9],d.b[6],d.b[8]);function N(){var e=Object(m.a)(["\n  display: flex;\n\n  span {\n    padding: 2px 4px;\n    margin-left: 4px;\n    border-radius: 4px;\n    text-align: center;\n    color: white;\n    font-weight: 700;\n    background-color: ",";\n\n    &.won {\n      background-color: ",";\n    }\n\n    &.lost {\n      background-color: ",";\n    }\n  }\n"]);return N=function(){return e},e}var G=function(e){return r.a.createElement(_,null,e.game.sets.map((function(e,n){return r.a.createElement("span",{key:n,className:e.team1Score>e.team2Score?"won":e.team1Score<e.team2Score?"lost":""},e.team1Score,"\u2022",e.team2Score)})))},_=j.a.div(N(),d.a[4],d.d[7],d.f[6]),D=t(61),z=t(130),M=t(89),P=t.n(M),I=t(104),R=Object(z.b)(),F=Object(p.a)(Object(p.a)({},R.getInitialState()),{},{total:0}),K=Object(z.c)({name:"games",initialState:F,reducers:{addGame:function(e,n){R.addOne(e,n.payload)},deleteGame:function(e,n){R.removeOne(e,n.payload)},addPlayer:function(e,n){var t=P.a.cloneDeep(n.payload.game);t.team1.players.push(n.payload.player),R.updateOne(e,{id:t.id,changes:t})},deletePlayer:function(e,n){var t=P.a.cloneDeep(n.payload.game),a=n.payload.playerKey.split(":"),r=a[0],c=parseInt(a[1],10);t.team1.players=t.team1.players.filter((function(e){return r!==e.name&&c!==e.number})),R.updateOne(e,{id:t.id,changes:t})},incrementTeam1:function(e,n){var t=P.a.cloneDeep(n.payload.game);t.sets[n.payload.set].team1Score++,t.sets[n.payload.set].events.push({type:I.a.T1_SCORE_UPDATE,value:t.sets[n.payload.set].team1Score,at:O()().format()}),R.updateOne(e,{id:t.id,changes:t})},incrementTeam2:function(e,n){var t=P.a.cloneDeep(n.payload.game);t.sets[n.payload.set].team2Score++,t.sets[n.payload.set].events.push({type:I.a.T2_SCORE_UPDATE,value:t.sets[n.payload.set].team2Score,at:O()().format()}),R.updateOne(e,{id:t.id,changes:t})},decrementTeam1:function(e,n){var t=P.a.cloneDeep(n.payload.game);t.sets[n.payload.set].team1Score--,t.sets[n.payload.set].events.push({type:I.a.T1_SCORE_UPDATE,value:t.sets[n.payload.set].team1Score,at:O()().format()}),R.updateOne(e,{id:t.id,changes:t})},decrementTeam2:function(e,n){var t=P.a.cloneDeep(n.payload.game);t.sets[n.payload.set].team2Score--,t.sets[n.payload.set].events.push({type:I.a.T2_SCORE_UPDATE,value:t.sets[n.payload.set].team2Score,at:O()().format()}),R.updateOne(e,{id:t.id,changes:t})},addSet:function(e,n){var t=P.a.cloneDeep(n.payload);t.sets.push({team1Score:0,team2Score:0,events:[],at:O()().format()}),R.updateOne(e,{id:t.id,changes:t})},addEvent:function(e,n){var t=P.a.cloneDeep(n.payload.game);t.sets[n.payload.set].events.push(n.payload.event),R.updateOne(e,{id:t.id,changes:t})}}}),U=K.actions,B=U.addEvent,q=U.addGame,L=U.addPlayer,W=U.addSet,H=U.decrementTeam1,V=U.decrementTeam2,J=U.deleteGame,Q=U.deletePlayer,Y=U.incrementTeam1,$=U.incrementTeam2;function X(){var e=Object(m.a)(["\n  height: calc(100vh - 80px);\n  padding: 8px;\n\n  .actions {\n    svg {\n      cursor: pointer;\n      margin-right: 8px;\n      transition: 0.3s all;\n\n      &:hover {\n        color: ",";\n      }\n\n      &[data-icon='trash']:hover {\n        color: ",";\n      }\n    }\n  }\n\n  .fit-content {\n    width: 1%;\n    white-space: nowrap;\n  }\n\n  button {\n    margin-top: 16px;\n  }\n\n  .disabled {\n    opacity: 0.5;\n    cursor: not-allowed !important;\n  }\n"]);return X=function(){return e},e}var Z=g.a.Title,ee=j.a.div(X(),d.b[8],d.f[5]),ne=t(13);function te(){var e=Object(m.a)(["\n  height: calc(100vh - 80px);\n\n  button {\n    font-size: 24px;\n    margin-top: 24px;\n    font-weight: bold;\n    height: 100px;\n  }\n"]);return te=function(){return e},e}var ae=j.a.div(te()),re=t(98),ce=t(618),le=t(620),oe=t(616),ie=t(622),se=t(612);function ue(){var e=Object(m.a)(["\n  height: calc(100vh - 80px);\n  margin-top: 24px;\n\n  .ant-space {\n    display: flex;\n    width: 100%;\n\n    .ant-space-item:nth-child(1) {\n      width: 50%;\n    }\n\n    svg.fa-trash {\n      margin-top: 42px;\n      margin-left: 8px;\n      cursor: pointer;\n\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n\n  .add-player svg.fa-plus {\n    margin-right: 8px;\n  }\n"]);return ue=function(){return e},e}var me=g.a.Title,pe=function(){var e=Object(u.g)(),n=Object(o.b)(),t=ce.a.useForm(),a=Object(re.a)(t,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),r.a.createElement(de,null,r.a.createElement(b.a,null,r.a.createElement(y.a,sn,r.a.createElement(me,{level:2},"Nouveau match"),r.a.createElement(ce.a,{form:a,layout:"vertical",onFinish:function(){var t=Object(se.a)(),r=a.getFieldValue("players");r||(r=[{name:"Tous",number:0}]);var c={name:a.getFieldValue("team1"),players:r},l={name:a.getFieldValue("team2"),players:[]},o=[{team1Score:0,team2Score:0,events:[],at:O()().format()}];n(q({id:t,team1:c,team2:l,sets:o,at:O()().format()})),e.push(ln(rn.GAME,[{parameter:"id",value:t}]))}},r.a.createElement(ce.a.Item,{name:"team1",label:"Ton \xe9quipe",rules:[{required:!0,message:"requis"}],validateTrigger:["onChange","onBlur"]},r.a.createElement(le.a,{size:"large"})),r.a.createElement(ce.a.Item,{name:"team2",label:"L'autre \xe9quipe",rules:[{required:!0,message:"requis"}],validateTrigger:["onChange","onBlur"]},r.a.createElement(le.a,{size:"large"})),r.a.createElement(ce.a.List,{name:"players"},(function(e,n){var t=n.add,a=n.remove;return r.a.createElement("div",null,e.map((function(n){return r.a.createElement(oe.a,{key:n.key,align:"start"},r.a.createElement(ce.a.Item,Object.assign({},n,{name:[n.name,"name"],fieldKey:[n.fieldKey,"name"],rules:[{required:!0,message:"requis"}],label:"Nom"}),r.a.createElement(le.a,{placeholder:"nom du joueur",size:"large"})),r.a.createElement(ce.a.Item,Object.assign({},n,{name:[n.name,"number"],fieldKey:[n.fieldKey,"number"],rules:[{required:!0,message:"requis"}],label:"Num\xe9ro"}),r.a.createElement(ie.a,{min:0,step:"1",size:"large"})),e.length>1?r.a.createElement(E.a,{icon:f.j,size:"lg",className:"dynamic-delete-button",onClick:function(){return a(n.name)}}):null)})),r.a.createElement(ce.a.Item,{className:"add-player"},r.a.createElement(T.a,{block:!0,type:"dashed",onClick:function(){t()},size:"large"},r.a.createElement(E.a,{icon:f.f})," Ajouter un joueur")))})),r.a.createElement(ce.a.Item,null,r.a.createElement(T.a,{block:!0,type:"primary",htmlType:"submit",size:"large"},"OK")))))))},de=j.a.div(ue(),d.f[6]);function fe(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100px;\n  padding: 16px;\n  margin: 0px 8px 8px 0px;\n  background-color: ",";\n  color: white;\n  border-radius: 4px;\n  cursor: pointer;\n\n  .label {\n    font-size: 24px;\n  }\n"]);return fe=function(){return e},e}var Ee=function(e){return r.a.createElement(ge,{positive:e.event.positive,type:e.event.type,onClick:function(){return e.onClick(e.event)}},r.a.createElement("div",{className:"label"},Object(ne.readable)(e.event.type)))},ge=j.a.div(fe(),(function(e){return e.positive?d.d[7]:d.f[6]}));function ve(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100px;\n  padding: 16px;\n  margin: 0px 8px 8px 0px;\n  background-color: ",";\n  color: white;\n  border-radius: 4px;\n  cursor: pointer;\n\n  .label {\n    font-size: 24px;\n  }\n\n  .number {\n    font-size: 32px;\n  }\n"]);return ve=function(){return e},e}var he=function(e){return r.a.createElement(be,{onClick:function(){return e.onClick(e.player)}},r.a.createElement("div",{className:"label"},e.player.name),r.a.createElement("div",{className:"number"},e.player.number))},be=j.a.div(ve(),d.a[4]);function ye(){var e=Object(m.a)(["\n  .topline {\n    width: 100%;\n    display: flex;\n    font-weight: bold;\n    justify-content: center;\n\n    span {\n      font-size: 20px;\n    }\n\n    button.link {\n      font-weight: 700;\n    }\n  }\n\n  .side,\n  .players {\n    padding: 16px;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin-bottom: 16px;\n  }\n\n  .side {\n    &.success {\n      background-color: ",";\n      border: 2px solid ",";\n    }\n\n    &.failure {\n      background-color: ",";\n      border: 2px solid ",";\n    }\n  }\n\n  .players {\n    background-color: ",";\n    border: 2px solid ",";\n  }\n"]);return ye=function(){return e},e}var xe,Te=function(e){var n=Object(a.useState)(void 0),t=Object(re.a)(n,2),c=t[0],l=t[1],o=function(e){l(Object(p.a)(Object(p.a)({},e),{},{at:O()().format()}))},i=Object.values(ne.GameEventType).filter((function(e){return![ne.GameEventType.T1_SCORE_UPDATE,ne.GameEventType.T2_SCORE_UPDATE].includes(e)})),s=Object.values(ne.GameEventType).filter((function(e){return![ne.GameEventType.T1_SCORE_UPDATE,ne.GameEventType.T2_SCORE_UPDATE,ne.GameEventType.ACE].includes(e)}));return r.a.createElement(Se,null,!c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"topline"},r.a.createElement("span",null,"Que s'est-il pass\xe9 ?")),r.a.createElement("div",{className:"side success"},i.map((function(e){return r.a.createElement(Ee,{key:e,event:{type:e,positive:!0},onClick:o})}))),r.a.createElement("div",{className:"side failure"},s.map((function(e){return r.a.createElement(Ee,{key:e,event:{type:e,positive:!1},onClick:o})})))),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"topline"},r.a.createElement("span",null,"Qui a ",c.positive?"brillamment r\xe9ussi":"(encore) totalement foir\xe9"," son geste (",r.a.createElement("button",{className:"link",onClick:function(){return l(void 0)}},"annuler"),") ?")),r.a.createElement("div",{className:"players"},e.team.map((function(n){return r.a.createElement(he,{key:n.name+":"+n.number,player:n,onClick:function(n){return function(n){e.onAddAction(Object(p.a)(Object(p.a)({},c),{},{player:n})),l(void 0)}(n)}})})))))},Se=j.a.div(ye(),d.d[1],d.d[3],d.f[1],d.f[3],d.a[1],d.a[3]);function Oe(){var e=Object(m.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n\n  .side {\n    display: flex;\n    align-items: center;\n    user-select: none;\n\n    svg {\n      transition: 0.3s all;\n      color: ",";\n\n      &:hover {\n        color: ",";\n      }\n    }\n\n    .score {\n      width: 80px;\n      text-align: center;\n      font-size: 44px;\n      font-weight: 700;\n      padding: 4px;\n      background-color: ",";\n      color: white;\n\n      &.t1.leaderT1,\n      &.t2.leaderT2 {\n        background-color: ",";\n      }\n\n      &.t1.leaderT2,\n      &.t2.leaderT1 {\n        background-color: ",";\n      }\n    }\n\n    .score-controls {\n      width: 40px;\n      padding: 4px;\n      display: flex;\n      flex-direction: column;\n      background-color: ",";\n\n      svg {\n        color: white;\n        margin: 8px;\n        cursor: pointer;\n        transition: 0.3s all;\n\n        &:hover {\n          color: ",";\n        }\n      }\n    }\n\n    &.left {\n      .score-controls {\n        border-top-left-radius: 4px;\n        border-bottom-left-radius: 4px;\n      }\n    }\n\n    &.right {\n      .score-controls {\n        border-top-right-radius: 4px;\n        border-bottom-right-radius: 4px;\n      }\n    }\n  }\n"]);return Oe=function(){return e},e}!function(e){e.EQ="EQ",e.T1="T1",e.T2="T2"}(xe||(xe={}));var ke=function(e){var n=e.t1Score>e.t2Score?xe.T1:e.t1Score<e.t2Score?xe.T2:xe.EQ;return r.a.createElement(je,null,r.a.createElement("div",{className:"side left"},r.a.createElement("div",{className:"score-controls"},r.a.createElement(E.a,{icon:f.c,size:"lg",onClick:e.onIncrementT1}),r.a.createElement(E.a,{icon:f.b,size:"lg",onClick:e.onDecrementT1})),r.a.createElement("span",{className:"score t1 leader".concat(n)},e.t1Score)),r.a.createElement("div",{className:"side right"},r.a.createElement("span",{className:"score t2 leader".concat(n)},e.t2Score),r.a.createElement("div",{className:"score-controls"},r.a.createElement(E.a,{icon:f.c,size:"lg",onClick:e.onIncrementT2}),r.a.createElement(E.a,{icon:f.b,size:"lg",onClick:e.onDecrementT2}))))},je=j.a.div(Oe(),d.b[8],d.b[6],d.a[4],d.d[7],d.f[6],d.b[8],d.b[7]),Ae=t(171);function Ce(){var e=Object(m.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  margin: 12px 0px;\n\n  .ant-radio-button-wrapper {\n    width: 48px;\n    padding: 0px 2px;\n    text-align: center;\n  }\n\n  button {\n    margin-left: 8px;\n  }\n"]);return Ce=function(){return e},e}var we=function(e){return r.a.createElement(Ne,null,r.a.createElement(Ae.default.Group,{onChange:function(n){return e.onSetChanged(n.target.value)},value:e.selectedSet,buttonStyle:"solid",size:"large"},e.game.sets.map((function(e,n){return r.a.createElement(Ae.default.Button,{key:n,value:n},e.team1Score,"\u2022",e.team2Score)}))),e.game.sets.length<5&&r.a.createElement(T.a,{type:"primary",onClick:e.onAddSet,size:"large"},r.a.createElement(E.a,{icon:f.f})))},Ne=j.a.div(Ce());function Ge(){var e=Object(m.a)(["\n  height: calc(100vh - 80px);\n  padding: 8px;\n\n  .date {\n    display: flex;\n    width: 100%;\n    justify-content: center;\n    font-size: 24px;\n  }\n\n  .setSelector {\n    display: flex;\n    width: 100%;\n    justify-content: center;\n    margin: 12px 0px;\n  }\n\n  .team-names {\n    display: flex;\n    width: 100%;\n\n    span {\n      font-size: 40px;\n      flex: 0 0 50%;\n      padding: 0 8px;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      color: ",";\n\n      &:nth-child(1) {\n        text-align: right;\n      }\n    }\n  }\n\n  .header {\n    display: flex;\n    width: 100%;\n    justify-content: center;\n  }\n\n  .actions .links {\n    margin: auto;\n    display: flex;\n    justify-content: center;\n    margin-top: 8px;\n    margin-bottom: 8px;\n\n    button {\n      margin: 4px;\n    }\n  }\n"]);return Ge=function(){return e},e}var _e=j.a.div(Ge(),d.c[5]),De=t(322),ze=t(57),Me=function(e){var n=e.playerStats.key.split(":")[0],t=ne.gameEvents.filter((function(e){return e!==ne.GameEventType.ACE})).map((function(n){return{event:Object(ne.readable)(n,!0),value:(t=e.playerStats[n],+(100*t.filter((function(e){return e.positive})).length/t.length).toFixed(0)||0)};var t}));return r.a.createElement(ze.h,{outerRadius:90,width:280,height:300,data:t,margin:{top:8,right:8,bottom:8,left:8}},r.a.createElement("text",{fontSize:"18",x:"50%",y:"20",dominantBaseline:"middle",textAnchor:"middle"},n),r.a.createElement(ze.e,null),r.a.createElement(ze.d,{dataKey:"event"}),r.a.createElement(ze.f,{angle:30,domain:[0,100],tick:!1}),r.a.createElement(ze.g,{name:n,dataKey:"value",stroke:d.b[7],fill:d.b[6],fillOpacity:.6}),r.a.createElement(ze.j,{formatter:function(e,n,t){return e+"%"}}))},Pe=function(e){var n=e.set.events.filter((function(e){return e.type===ne.GameEventType.T1_SCORE_UPDATE})).map((function(e){return{time:O()(e.at).valueOf(),value:e.value}})),t=e.set.events.filter((function(e){return[ne.GameEventType.T1_SCORE_UPDATE,ne.GameEventType.T2_SCORE_UPDATE].includes(e.type)})),a=[],c=0,l=0;t.forEach((function(e){c=e.type===ne.GameEventType.T1_SCORE_UPDATE?e.value:c,l=e.type===ne.GameEventType.T2_SCORE_UPDATE?e.value:l,a.push({time:O()(e.at).valueOf(),t1Score:c,t2Score:l})}));var o={type:"stepAfter",strokeWidth:3,activeDot:{r:4},dot:!1},i=e.isFifthSet?[0,15]:[0,25],s=e.isFifthSet?[0,5,10,15]:[0,5,10,15,20,25];return r.a.createElement(ze.i,{width:"100%",height:240},r.a.createElement(ze.c,{data:a,margin:{top:0,right:0,left:0,bottom:0}},r.a.createElement(ze.a,{strokeDasharray:"3 3"}),r.a.createElement(ze.k,{dataKey:"time",name:"Temps",domain:[n[0].time,n[n.length-1].time],tickFormatter:function(e){return O()(e).format(un)},type:"number"}),r.a.createElement(ze.l,{domain:i,ticks:s,width:32}),r.a.createElement(ze.j,{labelFormatter:function(e){return O()(e).format(un)}}),r.a.createElement(ze.b,Object.assign({},o,{dataKey:"t1Score",name:e.game.team1.name,stroke:d.b[9]})),r.a.createElement(ze.b,Object.assign({},o,{dataKey:"t2Score",name:e.game.team2.name,stroke:d.b[6]}))))};function Ie(){var e=Object(m.a)(["\n  display: flex;\n  flex-wrap: wrap;\n\n  div {\n    width: 140px;\n    height: 160px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 8px 24px;\n    margin: 4px;\n\n    .eventType {\n      font-size: 24px;\n    }\n\n    .value {\n      font-size: 48px;\n    }\n\n    .numbers {\n      opacity: 0.8;\n    }\n\n    &.xlow {\n      background-color: ",";\n    }\n    &.low {\n      background-color: ",";\n    }\n    &.high {\n      background-color: ",";\n    }\n    &.xhigh {\n      background-color: ",";\n    }\n\n    &.points {\n      background-color: ",";\n\n      .value {\n        font-size: 36px;\n      }\n    }\n  }\n"]);return Ie=function(){return e},e}var Re=function(e){var n=function(n){var t=e.events.filter((function(e){return e.type===n}));return+(100*t.filter((function(e){return e.positive})).length/t.length).toFixed(0)||0},t={};ne.gameEvents.filter((function(e){return e!==ne.GameEventType.ACE})).forEach((function(e){t[e]=n(e)}));var a=e.sets.reduce((function(e,n){return e+n.team1Score}),0),c=e.sets.reduce((function(e,n){return e+n.team2Score}),0);return r.a.createElement(Fe,null,r.a.createElement("div",{className:"points"},r.a.createElement("span",{className:"eventType"},"Points"),r.a.createElement("span",{className:"value"},a,"/",c)),ne.gameEvents.map((function(a){return r.a.createElement("div",{key:a,className:t[a]<25?"xlow":t[a]<50?"low":t[a]<75?"high":"xhigh"},r.a.createElement("span",{className:"eventType"},Object(ne.readable)(a)),r.a.createElement("span",{className:"value"},a!==ne.GameEventType.ACE?n(a)+"%":e.events.filter((function(e){return e.type===ne.GameEventType.ACE})).length),a!==ne.GameEventType.ACE&&r.a.createElement("span",{className:"numbers"},e.events.filter((function(e){return e.type===a&&e.positive})).length,"/",e.events.filter((function(e){return e.type===a})).length))})))},Fe=j.a.div(Ie(),d.f[4],d.e[4],d.g[4],d.d[4],d.b[6]);function Ke(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  svg {\n    color: white;\n    margin-left: 4px;\n  }\n"]);return Ke=function(){return e},e}var Ue=function(e){return r.a.createElement(Be,null,r.a.createElement("div",null,e.type!==ne.GameEventType.ACE?e.percentage+"% ("+e.events.filter((function(e){return e.positive})).length+"/"+e.events.length+")":e.events.length),e.percentage>90&&e.type!==ne.GameEventType.ACE&&r.a.createElement(E.a,{icon:f.i}))},Be=j.a.div(Ke());function qe(){var e=Object(m.a)(["\n  td,\n  th {\n    padding: 4px 4px !important;\n  }\n\n  .ant-table-thead > tr > th,\n  .ant-table-tbody > tr > td:nth-child(1) {\n    font-weight: 700;\n  }\n\n  .xlow {\n    border-left: "," ",";\n  }\n  .low {\n    border-left: "," ",";\n  }\n  .high {\n    border-left: "," ",";\n  }\n  .xhigh {\n    border-left: "," ",";\n  }\n\n  .nobg {\n    border-left: none;\n  }\n\n  .fit-content {\n    width: 1%;\n    white-space: nowrap;\n  }\n"]);return qe=function(){return e},e}var Le=function(e){var n=[{title:"#",className:"fit-content",render:function(e){return e.key.split(":")[1]},sorter:function(e,n){return parseInt(e.key.split(":")[1],10)>parseInt(n.key.split(":")[1],10)?1:-1}},{title:"Nom",render:function(e){return e.key.split(":")[0]},sorter:function(e,n){return e.key.split(":")[0].localeCompare(n.key.split(":")[0])}}],t=function(e){return+(100*e.filter((function(e){return e.positive})).length/e.length).toFixed(0)||0},a=function(e){var n=t(e);return 0===e.length?"nodata":n<25?"xlow":n<50?"low":n<75?"high":"xhigh"};return ne.gameEvents.forEach((function(e){n.push({title:Object(ne.readable)(e),className:"fit-content",sorter:function(n,a){return e!==ne.GameEventType.ACE?t(n[e])>t(a[e])?1:-1:n[e].length>a[e].length?-1:1},render:function(n){return{props:{className:a(n[e])+(e===ne.GameEventType.ACE?" nobg":"")},children:r.a.createElement(Ue,{events:n[e],type:e,percentage:t(n[e])})}}})})),r.a.createElement(Ye,null,r.a.createElement(x.a,{bordered:!0,dataSource:e.playerStats,columns:n,pagination:!1,size:"small"}))},We="8px solid ",He=d.f[4],Ve=d.e[4],Je=d.g[4],Qe=d.d[4],Ye=j.a.div(qe(),We,He,We,Ve,We,Je,We,Qe);function $e(){var e=Object(m.a)(["\n  height: calc(100vh - 80px);\n  padding: 8px;\n\n  .chartCol {\n    padding: 16px;\n  }\n\n  .radarWrapper {\n    margin-top: 12px;\n    display: flex;\n    flex-wrap: wrap;\n  }\n\n  h4 {\n    margin: 8px 0px;\n  }\n"]);return $e=function(){return e},e}var Xe=g.a.Title,Ze=j.a.div($e()),en=t(286);function nn(){var e=Object(m.a)(["\n  button.link {\n    margin-bottom: 16px;\n  }\n\n  form {\n    margin-top: 24px;\n    margin-bottom: 24px;\n  }\n\n  .fit-content {\n    width: 1%;\n    white-space: nowrap;\n  }\n\n  .actions {\n    svg {\n      transition: 0.3s all;\n      cursor: pointer;\n\n      &:hover {\n        color: ",";\n      }\n\n      &[data-icon='trash']:hover {\n      color: ",";\n    }\n  }\n\n  .button .ant-form-item-control-input-content {\n    text-align: right;\n  }\n"]);return nn=function(){return e},e}var tn=g.a.Title,an=j.a.div(nn(),d.b[8],d.f[5]),rn={HOME:"/goat-keeper/home",NEW_GAME:"/goat-keeper/new-game",GAME_LIST:"/goat-keeper/game-list",GAME:"/goat-keeper/game/:id",GAME_STATS:"/goat-keeper/game/:id/stats",TEAM_MANAGEMENT:"/goat-keeper/game/:id/team",DEFAULT:"/goat-keeper/:anything_else"},cn=[{path:rn.HOME,exact:!0,component:function(){var e=Object(u.g)(),n=Object(o.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),r.a.createElement(ae,null,r.a.createElement(b.a,null,r.a.createElement(y.a,{xs:{span:20,offset:2},lg:{span:12,offset:6}},r.a.createElement(T.a,{block:!0,size:"large",type:"primary",onClick:function(){return e.push(rn.NEW_GAME)}},"Nouveau match"),r.a.createElement(T.a,{block:!0,size:"large",type:"primary",onClick:function(){return e.push(rn.GAME_LIST)}},"Matchs pr\xe9c\xe9dents"),r.a.createElement(T.a,{block:!0,size:"large",onClick:function(){var t=Object(ne.generateDemoGame)();n(q(t)),e.push(ln(rn.GAME_STATS,[{parameter:"id",value:t.id}]))}},"G\xe9n\xe9rer un match d\xe9mo")))))}},{path:rn.NEW_GAME,exact:!0,component:pe},{path:rn.GAME,exact:!0,component:function(){var e=Object(u.h)().id,n=Object(u.g)(),t=Object(o.c)((function(n){return n.games.entities[e]})),c=Object(o.b)(),l=Object(a.useState)(t?t.sets.length-1:0),i=Object(re.a)(l,2),s=i[0],m=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),t&&r.a.createElement(_e,null,r.a.createElement(b.a,null,r.a.createElement(y.a,{className:"date"},O()(t.at).format(mn)),r.a.createElement(y.a,{className:"setSelector"},r.a.createElement(we,{game:t,selectedSet:s,onSetChanged:function(e){return m(e)},onAddSet:function(){return c(W(t))}})),r.a.createElement(y.a,{className:"team-names"},r.a.createElement("span",null,t.team1.name),r.a.createElement("span",null,t.team2.name)),r.a.createElement(y.a,{className:"header"},r.a.createElement(ke,{t1Score:t.sets[s].team1Score,t2Score:t.sets[s].team2Score,onIncrementT1:function(){t.sets[s].team1Score<D.a&&c(Y({game:t,set:s}))},onDecrementT1:function(){t.sets[s].team1Score>D.b&&c(H({game:t,set:s}))},onIncrementT2:function(){t.sets[s].team2Score<D.a&&c($({game:t,set:s}))},onDecrementT2:function(){t.sets[s].team2Score>D.b&&c(V({game:t,set:s}))}})),r.a.createElement(y.a,Object.assign({className:"actions"},sn),r.a.createElement("div",{className:"links"},r.a.createElement("button",{className:"link team",onClick:function(){return n.push(ln(rn.TEAM_MANAGEMENT,[{parameter:"id",value:t.id}]))}},"G\xe9rer mon \xe9quipe"),r.a.createElement("button",{className:"link stats",onClick:function(){return n.push(ln(rn.GAME_STATS,[{parameter:"id",value:t.id}]))}},"Statistiques")),r.a.createElement(Te,{team:t.team1.players,onAddAction:function(e){c(B({game:t,set:s,event:e}))}})))))}},{path:rn.GAME_LIST,exact:!0,component:function(){var e=Object(u.g)(),n=Object(o.b)(),t=Object(o.c)((function(e){return e.games.entities})),a=[{title:"Date",render:function(e){return O()(e.at).format(mn)},className:"fit-content",sorter:function(e,n){return O()(e.at).isBefore(n.at)?-1:1}},{title:"Match",render:D.d,sorter:D.h},{title:"R\xe9sultat",render:function(e){return r.a.createElement(G,{game:e})}},{title:"Evts",sorter:function(e,n){return Object(D.c)(e)>Object(D.c)(n)?-1:1},render:D.c},{key:"actions",className:"actions fit-content",render:function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{title:"editer le score et les stats"},r.a.createElement(E.a,{icon:f.h,size:"lg",onClick:function(){return e.push(ln(rn.GAME,[{parameter:"id",value:t.id}]))}})),r.a.createElement(v.a,{title:"visualiser les donn\xe9es du match"},r.a.createElement(E.a,{icon:f.a,size:"lg",onClick:function(){return e.push(ln(rn.GAME_STATS,[{parameter:"id",value:t.id}]))}})),r.a.createElement(v.a,{title:"exporter les donn\xe9es du match"},r.a.createElement(E.a,{className:"disabled",icon:f.d,size:"lg"})),r.a.createElement(v.a,{title:"supprimer le match"},r.a.createElement(h.a,{title:"s\xfbr ?",onConfirm:function(){return n(J(t.id))},okText:"Oui",cancelText:"Non en fait"},r.a.createElement(E.a,{icon:f.j,size:"lg"}))))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),r.a.createElement(ee,null,r.a.createElement(b.a,null,r.a.createElement(y.a,sn,r.a.createElement(Z,{level:2},"Matchs enregistr\xe9s sur ce navigateur"),r.a.createElement(x.a,{size:"small",bordered:!0,dataSource:Object.values(t).map((function(e){return Object(p.a)(Object(p.a)({},e),{},{key:e.id})})),columns:a,pagination:!1})),r.a.createElement(y.a,Object.assign({className:"button"},sn),r.a.createElement(T.a,{size:"large",type:"primary",block:!0,onClick:function(){return e.push(rn.NEW_GAME)}},"Nouveau match")))))}},{path:rn.GAME_STATS,exact:!0,component:function(){var e=Object(u.h)().id,n=Object(o.c)((function(n){return n.games.entities[e]})),t=Object(De.a)(n.sets.map((function(e){return e.events.filter((function(e){return ne.gameEvents.includes(e.type)}))}))).flat(),a=n.team1.players.map((function(e){var n={key:Object(ne.getKey)(e)};return ne.gameEvents.forEach((function(a){n[a]=t.filter((function(n){return n.player.name===e.name&&n.player.number===e.number&&n.type===a}))})),n}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),n&&r.a.createElement(Ze,null,r.a.createElement(b.a,null,r.a.createElement(y.a,null,r.a.createElement(Xe,{level:2},n.team1.name," vs ",n.team2.name,", le ",O()(n.at).format(mn)," (",Object(ne.getTotalDuration)(n)+" minutes",")"))),r.a.createElement(b.a,{gutter:16},r.a.createElement(y.a,{xs:24,lg:8},n.sets.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(Xe,{level:4},"Set ",t+1," (",Object(ne.getSetDuration)(e)+" minutes",")"),r.a.createElement(Pe,{game:n,set:e,isFifthSet:4===t}))}))),r.a.createElement(y.a,{xs:24,lg:16},r.a.createElement(Xe,{level:4},"Stats \xe9quipe"),r.a.createElement(Re,{events:t,sets:n.sets}),r.a.createElement(Xe,{level:4},"Stats joueurs"),r.a.createElement(Le,{playerStats:a}),r.a.createElement("div",{className:"radarWrapper"},n.team1.players.map((function(e){return r.a.createElement(Me,{key:Object(ne.getKey)(e),playerStats:a.find((function(n){return n.key===Object(ne.getKey)(e)}))})})))))))}},{path:rn.TEAM_MANAGEMENT,exact:!0,component:function(){var e=Object(u.h)().id,n=Object(o.b)(),t=Object(u.g)(),a=Object(o.c)((function(n){return n.games.entities[e]})),c=ce.a.useForm(),l=Object(re.a)(c,1)[0],i=[{title:"Nom",dataIndex:"name",sorter:function(e,n){return e.name.localeCompare(n.name)}},{title:"Num\xe9ro",dataIndex:"number",sorter:function(e,n){return e.number-n.number}},{key:"actions",className:"actions fit-content",render:function(e){return r.a.createElement(v.a,{key:"delete",title:"supprimer cette personne"},r.a.createElement(h.a,{title:"s\xfbr ?",onConfirm:function(){return n(Q({game:a,playerKey:e.key}))},okText:"Oui",cancelText:"Non en fait"},r.a.createElement(E.a,{icon:f.j})))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),a&&r.a.createElement(an,null,r.a.createElement(b.a,null,r.a.createElement(y.a,sn,r.a.createElement(tn,{level:2},"G\xe9rer mon \xe9quipe"),r.a.createElement("button",{className:"link",onClick:function(){return t.push(ln(rn.GAME,[{parameter:"id",value:a.id}]))}},"Retour au match"),r.a.createElement(x.a,{size:"small",bordered:!0,dataSource:a.team1.players.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{key:e.name+":"+e.number})})),columns:i,pagination:!1}),r.a.createElement(ce.a,{form:l,layout:"horizontal",onFinish:function(e){a.team1.players.some((function(n){return n.name===e.name&&n.number===e.number}))?en.a.error("Cette personne existe d\xe9j\xe0"):(n(L({game:a,player:e})),l.resetFields())}},r.a.createElement(ce.a.Item,{name:"name",label:"Nom",rules:[{required:!0,message:"requis"}],validateTrigger:["onChange","onBlur"]},r.a.createElement(le.a,{placeholder:"nouveau joueur"})),r.a.createElement(ce.a.Item,{name:"number",label:"Num\xe9ro",rules:[{required:!0,message:"requis"}],validateTrigger:["onChange","onBlur"]},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{className:"button"},r.a.createElement(T.a,{type:"primary",htmlType:"submit"},"OK")))))))}},{path:rn.DEFAULT,redirectTo:rn.HOME},{path:"",exact:!0,redirectTo:rn.HOME}],ln=function(e,n){return n.map((function(n){return e=e.replace(":"+n.parameter,n.value.toString()),null})),e},on=function(e){return e.redirectTo?r.a.createElement(u.b,{path:e.path,render:function(){return r.a.createElement(u.a,{to:e.redirectTo})}}):r.a.createElement(u.b,{path:e.path,render:function(n){return r.a.createElement(e.component,Object.assign({},n,{routes:e.routes}))}})},sn={xs:{span:22,offset:1},md:{span:18,offset:3},lg:{span:16,offset:4}},un="HH[h]mm",mn="DD/MM/YYYY",pn=function(){return r.a.createElement(s.a,null,r.a.createElement(u.d,null,cn.map((function(e,n){return r.a.createElement(on,Object.assign({key:n},e))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var dn=t(52),fn=t(90),En=t(317),gn=t.n(En),vn=t(318),hn=t.n(vn),bn=Object(dn.c)({games:K.reducer}),yn={key:"gkState",storage:hn.a,whitelist:["games"],stateReconciler:gn.a},xn=Object(fn.g)(yn,bn),Tn=Object(z.a)({reducer:xn,middleware:Object(z.d)({serializableCheck:{ignoredActions:[fn.a,fn.f,fn.b,fn.c,fn.d,fn.e]}})}),Sn=Object(fn.h)(Tn);l.a.render(r.a.createElement(o.a,{store:Tn},r.a.createElement(i.PersistGate,{loading:null,persistor:Sn},r.a.createElement(pn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[351,1,2]]]);
//# sourceMappingURL=main.0eca7aa8.chunk.js.map